
/*  LM_AUTO.H
    Include file for Load Management Automation Btrieve routines
*/

#ifndef LM_AUTO_H
#define LM_AUTO_H

//// #include "btrieve.h"

#define SCANPOINTFILENAME "DATA\\LCSCANPT.BDB"
#define STATPOINTFILENAME "DATA\\LCSTATPT.BDB"
#define STATETABLEFILENAME "DATA\\STATETBL.BDB"
#define BDB_SCANPOINTFILENAME "LCSCANPT.BDB"
#define BDB_STATPOINTFILENAME "LCSTATPT.BDB"
#define BDB_STATETABLEFILENAME "STATETBL.BDB"

#define LINEBREAK 0x0001
#define PAGEBREAK 0x0002

/* Defintions for create btrieve files for SCAN, STATUS, STATENAME */
#define SCANPOINTNUMKEYS 6
#define STATENAMENUMKEYS 1


/* Use the same structure for Scan & Status table */
typedef struct _SCANPOINT {
    CHAR DeviceName[STANDNAMLEN];
    CHAR PointName[STANDNAMLEN];
    USHORT ReportOrder;
    USHORT StatusFlag;
    ULONG NextScan;
    ULONG QueueTime;
    USHORT SeqNumber;
    USHORT QueueStat;
    USHORT RetryCount;
} SCANPOINT, STATPOINT;

#define KEYSCANPOINTNAME  0
#define KEYSTATPOINTNAME  0

typedef struct _SCANPOINTNAME {
    CHAR DeviceName[STANDNAMLEN];
    CHAR PointName[STANDNAMLEN];
} SCANPOINTNAME, STATPOINTNAME;

#define KEYSCANPOINTNEXTSCAN  1
#define KEYSTATPOINTNEXTSTAT  1

typedef struct _SCANPOINTNEXT {
    ULONG NextScan;
} SCANPOINTNEXT, STATPOINTNEXT;

#define KEYSCANPOINTREPORT  2
#define KEYSTATPOINTREPORT  2

typedef struct _SCANPOINTNAMEREPORT {
    USHORT ReportOrder;
    CHAR DeviceName[STANDNAMLEN];
    CHAR PointName[STANDNAMLEN];
} SCANPOINTNAMEREPORT, STATPOINTNAMEREPORT;


/* State Name table structure */
typedef struct _STATENAME {
    CHAR StateMessage[14];
    USHORT ForeColorAttr;
    USHORT BackColorAttr;
} STATENAME;

typedef struct _STATENAMETABLE {
    USHORT StateNameNumber;
    STATENAME StateMess[6];
} STATENAMETABLE;


/* Prototypes from SCUPDATE.C */
IM_EX_CTIBASE INT InitScanPointDB (VOID);
IM_EX_CTIBASE INT CreateScanPointDB (PCHAR);
IM_EX_CTIBASE INT CloseScanPointDB (VOID);
IM_EX_CTIBASE INT ScanPointAdd (SCANPOINT *);
IM_EX_CTIBASE INT ScanPointUpdate (SCANPOINT *);
IM_EX_CTIBASE INT ScanPointFastUpdate (SCANPOINT *);
IM_EX_CTIBASE INT ScanPointDelete (SCANPOINT *);
IM_EX_CTIBASE INT ScanPointGetEqual (SCANPOINT *);
IM_EX_CTIBASE INT ScanPointLock (SCANPOINT *);
IM_EX_CTIBASE INT ScanPointUnLock (SCANPOINT *);
IM_EX_CTIBASE INT ScanPointGetFirst (SCANPOINT *);
IM_EX_CTIBASE INT ScanPointGetNext (SCANPOINT *);
IM_EX_CTIBASE INT ScanPointGetNextGt (SCANPOINT *);
IM_EX_CTIBASE INT ScanPointGetPrev (SCANPOINT *);
IM_EX_CTIBASE INT ScanPointRecords (PULONG);
IM_EX_CTIBASE INT ScanPointGetFirstScan (SCANPOINT *);
IM_EX_CTIBASE INT ScanPointGetScanLE (SCANPOINT *);
IM_EX_CTIBASE INT ScanPtOrderGetEqual (SCANPOINT *);
IM_EX_CTIBASE INT ScanPtOrderGetFirst (SCANPOINT *);
IM_EX_CTIBASE INT ScanPtOrderGetNext (SCANPOINT *);
IM_EX_CTIBASE INT InitStateNameDB (VOID);
IM_EX_CTIBASE INT CreateStateNameDB (PCHAR);
IM_EX_CTIBASE INT CloseStateNameDB(VOID);
IM_EX_CTIBASE INT StateNameAdd (STATENAMETABLE *);
IM_EX_CTIBASE INT StateNameUpdate (STATENAMETABLE *);
IM_EX_CTIBASE INT StateNameDelete (STATENAMETABLE *);
IM_EX_CTIBASE INT StateNameGetEqual (STATENAMETABLE *);
IM_EX_CTIBASE INT StateNameGetFirst (STATENAMETABLE *);
IM_EX_CTIBASE INT StateNameGetNext (STATENAMETABLE *);
IM_EX_CTIBASE INT StateNameGetPrev (STATENAMETABLE *);
IM_EX_CTIBASE INT StateNameRecords (PULONG);
IM_EX_CTIBASE INT InitStatPointDB (VOID);
IM_EX_CTIBASE INT CreateStatPointDB (PCHAR);
IM_EX_CTIBASE INT CloseStatPointDB(VOID);
IM_EX_CTIBASE INT StatPointAdd (STATPOINT *);
IM_EX_CTIBASE INT StatPointUpdate (STATPOINT *);
IM_EX_CTIBASE INT StatPointFastUpdate (STATPOINT *);
IM_EX_CTIBASE INT StatPointDelete (STATPOINT *);
IM_EX_CTIBASE INT StatPointGetEqual (STATPOINT *);
IM_EX_CTIBASE INT StatPointLock (STATPOINT *);
IM_EX_CTIBASE INT StatPointUnLock (STATPOINT *);
IM_EX_CTIBASE INT StatPointGetFirst (STATPOINT *);
IM_EX_CTIBASE INT StatPointGetNext (STATPOINT *);
IM_EX_CTIBASE INT StatPointGetNextGt (STATPOINT *);
IM_EX_CTIBASE INT StatPointGetPrev (STATPOINT *);
IM_EX_CTIBASE INT StatPointRecords (PULONG Records);
IM_EX_CTIBASE INT StatPointGetFirstScan (STATPOINT *);
IM_EX_CTIBASE INT StatPointGetScanLE (STATPOINT *);
IM_EX_CTIBASE INT StatPtOrderGetEqual (STATPOINT *);
IM_EX_CTIBASE INT StatPtOrderGetFirst (STATPOINT *);
IM_EX_CTIBASE INT StatPtOrderGetNext (STATPOINT *);
IM_EX_CTIBASE INT OpenStatPtDB(PCHAR, PBYTE);
IM_EX_CTIBASE INT OpenScanPtDB(PCHAR, PBYTE);
IM_EX_CTIBASE INT FO_CopyStatPtDB (PCHAR, PCHAR);
IM_EX_CTIBASE INT BDB_CopyStatPtDB (PCHAR, PCHAR);
IM_EX_CTIBASE INT FO_CopyScanPtDB (PCHAR, PCHAR);
IM_EX_CTIBASE INT BDB_CopyScanPtDB (PCHAR, PCHAR);
IM_EX_CTIBASE INT Check4StateTblDBChange (ULONG, PCHAR);
IM_EX_CTIBASE INT Check4ScanPtDBChange (ULONG, PCHAR);
IM_EX_CTIBASE INT Check4StatPtDBChange (ULONG, PCHAR);
IM_EX_CTIBASE INT FO_CopyStateNameDB (PCHAR, PCHAR);
IM_EX_CTIBASE INT OpenStateNameDB (PCHAR, PBYTE);
IM_EX_CTIBASE INT BDB_CopyStateNameDB (PCHAR, PCHAR);

#endif




