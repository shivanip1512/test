<?xml version="1.0" ?>
<project name="esubstation editor" default="all">

   <target name="all" depends="clean,build">
    </target>
   
   <target name="build">
       <mkdir dir="build"/>
       
       <javac srcdir="src"
              destdir="build"
              target="${yukon.javac.target}" 
	          source="${yukon.javac.source}"
              bootclasspath="${yukon.javac.bootclasspath}"
              debug="true">                               
          <classpath>                        
             <fileset dir="${yukon.lib}">
                <include name="**/*.jar"/>
             </fileset>
	      </classpath> 
     	</javac>
		
       <jar jarfile="${yukon.lib}/esub.jar" basedir="build/">
           <manifest>
               <attribute name="Yukon-Version" value="${yukon.build.version}"/>
               <attribute name="Yukon-Details" value="${yukon.build.details}"/>
           </manifest>
	 	    <fileset dir="resource">
				<include name="**/*.gif"/>
				<include name="**/*.ico"/>
			</fileset>       	
       	    <fileset dir="src">
       	        <exclude name="**/*.java"/>
       	    </fileset>

       	</jar>
            
        <copy todir="${yukon.lib}/images">
       		<fileset dir="images">
	   			<include name="**/*.gif"/>
	    		<include name="**/*.png"/>
	    		<include name="**/*.jpg"/>
	    	</fileset>
       </copy>
       
       <copy todir="${yukon.lib}">
       	    <fileset dir="conf"/>
       </copy>
       
       <copy todir="${yukon.lib}">
       		<fileset dir="resource">
       			<include name="*.bat"/>
       		</fileset>
       	</copy>
       	
   </target>

	<target name="install" depends="build">
   		<jar jarfile="${yukon.client.bin}/esub.jar"
   			basedir="build/">
            <manifest>
                <attribute name="Yukon-Version" value="${yukon.build.version}"/>
                <attribute name="Yukon-Details" value="${yukon.build.details}"/>
            </manifest>
   		</jar>   			
   			
   		<copy todir="${yukon.client.bin}">
 	    	<fileset dir="resource">
				<include name=".bat"/>
	    	</fileset>
       </copy>             
   </target>
   
   <target name="clean">
       <delete dir="build"/>        
   </target>
   
	
   <!-- Run unit tests - will stop running if a failure or error occurs during a test -->
   <target name="runUnitTests" description="Run all unit tests, stop on failure" />

</project>