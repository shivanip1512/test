<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE report-definition
  PUBLIC "-//JFreeReport//DTD report definition//EN//extended" "http://jfreereport.sourceforge.net/extreport.dtd">
<report-definition name="Statistical Comm Channel Report">
  <parser-config>
    <object-factory class="org.jfree.report.modules.parser.ext.factory.objects.DefaultClassFactory"/>
    <element-factory class="org.jfree.report.modules.parser.ext.factory.elements.DefaultElementFactory"/>
    <stylekey-factory class="org.jfree.report.modules.parser.ext.factory.stylekey.DefaultStyleKeyFactory"/>
    <stylekey-factory class="org.jfree.report.modules.parser.ext.factory.stylekey.PageableLayoutStyleKeyFactory"/>
    <template-factory class="org.jfree.report.modules.parser.ext.factory.templates.DefaultTemplateCollection"/>
    <datasource-factory class="org.jfree.report.modules.parser.ext.factory.datasource.DefaultDataSourceFactory"/>
  </parser-config>

  <report-config>
    <defaultpageformat orientation="portrait" pageformat="LETTER" topmargin="72" bottommargin="72" leftmargin="72" rightmargin="72"/>
    <configuration>
      <property name="org.jfree.report.modules.output.pageable.pdf.Author">Cannon Technologies, Inc.</property>
      <property name="org.jfree.report.modules.output.pageable.pdf.Encoding">iso-8859-15</property>
    </configuration>
  </report-config>

  <styles>
    <style name="background_rectangle">
      <compound-key name="min-size">
        <basic-object name="width">-100.0</basic-object>
        <basic-object name="height">-100.0</basic-object>
      </compound-key>
      <basic-key name="scale">true</basic-key>
      <basic-key name="stroke" class="java.awt.BasicStroke">0.0</basic-key>
      <compound-key name="absolute_pos">
        <basic-object name="x">0.0</basic-object>
        <basic-object name="y">0.0</basic-object>
      </compound-key>
      <basic-key name="paint">#afafaf</basic-key>
      <basic-key name="fill-shape">true</basic-key>
      <basic-key name="keepAspectRatio">false</basic-key>
      <basic-key name="draw-shape">false</basic-key>
    </style>

    <style name="horizontal_line">
      <compound-key name="min-size">
        <basic-object name="width">-100.0</basic-object>
        <basic-object name="height">0.0</basic-object>
      </compound-key>
      <basic-key name="draw-shape">true</basic-key>
      <basic-key name="fill-shape">false</basic-key>
      <basic-key name="keepAspectRatio">false</basic-key>
      <basic-key name="scale">true</basic-key>
    </style>

    <style name="thin_horizontal_line">
      <extends name="horizontal_line"/>
      <basic-key name="stroke" class="java.awt.BasicStroke">0.5</basic-key>
    </style>

    <style name="thick_horizontal_line">
      <extends name="horizontal_line"/>
      <basic-key name="stroke" class="java.awt.BasicStroke">2.0</basic-key>
    </style>
  </styles>

  <!--
    When defining new templates, you have to extend an existing template and
    supply a name for the new template. If the name is not set, the parser
    will throw an exception.
    -->
  <templates>
    <template references="number-field" name="value-number-field">
      <basic-object name="nullValue">-</basic-object>
      <basic-object name="format">#,##0</basic-object>
    </template>
   <template references="number-field" name="percent-number-field">
     <basic-object name="nullValue">-</basic-object>
     <basic-object name="format">##0.00' %'</basic-object>
   </template>
 </templates>

  <report-description>
    <!--
     Defines the report header. As every band and element, the report header
     contains a element style sheet, which defines the elements visual behaviour
     -->
    <report-header>
      <style>
        <compound-key name="min-size">
          <basic-object name="width">0.0</basic-object>
          <basic-object name="height">58.0</basic-object>
        </compound-key>
        <basic-key name="pagebreak-after">false</basic-key>
      </style>
      <!--
        The default style sheet is inherited to all child elements, anything defined
        here, will also be available to the childs, but they are able to define their
        own values, which override the values of the default style sheet.
        -->
      <default-style>
        <basic-key name="font-bold">true</basic-key>
        <basic-key name="font-size">20</basic-key>
        <basic-key name="font">Serif</basic-key>
        <basic-key name="font-underline">true</basic-key>
        <basic-key name="font-italic">false</basic-key>
        <basic-key name="alignment">center</basic-key>
        <basic-key name="valignment">middle</basic-key>
      </default-style>
      <!--
        Elements are defined and selected by their content type. To create
        a text element, the required content type is "text/plain". ShapeElements
        are created when specifying the content type of "shape/generic".

        Be carefull when defining a relative width and height, unless the parent
        band defines a maximum size, the element will try to consume as much space
        as possible.
        -->
      <element type="text/plain">
        <style>
          <basic-key name="valignment">top</basic-key>
          <compound-key name="min-size">
            <basic-object name="width">-100.0</basic-object>
            <basic-object name="height">24.0</basic-object>
          </compound-key>
          <compound-key name="absolute_pos">
            <basic-object name="x">0.0</basic-object>
            <basic-object name="y">0.0</basic-object>
          </compound-key>
        </style>
        <template references="label">
          <basic-object name="nullValue">null</basic-object>
          <basic-object name="content">Insert data TITLE here</basic-object>
        </template>
      </element>

      <element type="text/plain">
        <style>
          <basic-key name="valignment">middle</basic-key>
          <compound-key name="min-size">
            <basic-object name="width">-100.0</basic-object>
            <basic-object name="height">24.0</basic-object>
          </compound-key>
          <compound-key name="absolute_pos">
            <basic-object name="x">0.0</basic-object>
            <basic-object name="y">20.0</basic-object>
          </compound-key>
        </style>
        <template references="label">
          <basic-object name="nullValue">null</basic-object>
          <basic-object name="content">Insert data DATE RANGE here</basic-object>
        </template>
      </element>
    </report-header>

    <report-footer>
      <style>
        <compound-key name="min-size">
          <basic-object name="width">0.0</basic-object>
          <basic-object name="height">48.0</basic-object>
        </compound-key>
      </style>
      <default-style>
        <basic-key name="font-bold">true</basic-key>
        <basic-key name="font-size">16</basic-key>
        <basic-key name="font">Serif</basic-key>
        <basic-key name="font-italic">false</basic-key>
        <basic-key name="paint">black</basic-key>
        <basic-key name="alignment">center</basic-key>
        <basic-key name="valignment">middle</basic-key>
        <basic-key name="dynamic_height">false</basic-key>
      </default-style>

      <element type="text/plain">
        <style>
          <basic-key name="valignment">middle</basic-key>
          <basic-key name="alignment">center</basic-key>
          <compound-key name="min-size">
            <basic-object name="width">-100.0</basic-object>
            <basic-object name="height">24.0</basic-object>
          </compound-key>
          <compound-key name="absolute_pos">
            <basic-object name="x">0.0</basic-object>
            <basic-object name="y">0.0</basic-object>
          </compound-key>
        </style>
        <template references="label">
          <basic-object name="nullValue">null</basic-object>
          <basic-object name="content">*** END OF REPORT ***</basic-object>
        </template>
      </element>
    </report-footer>

    <page-header>
      <style>
        <basic-key name="display-on-firstpage">true</basic-key>
        <compound-key name="min-size">
          <basic-object name="width">0.0</basic-object>
          <basic-object name="height">18.0</basic-object>
        </compound-key>
        <basic-key name="display-on-lastpage">false</basic-key>
      </style>
      <default-style>
        <basic-key name="font-bold">false</basic-key>
        <basic-key name="font-size">10</basic-key>
        <basic-key name="font">Serif</basic-key>
        <basic-key name="font-italic">false</basic-key>
      </default-style>

      <!-- The grey background rectangle for the page header -->
      <element type="shape/generic">
        <style>
          <extends name="background_rectangle"/>
        </style>
        <template references="rectangle"/>
      </element>

      <!-- The date field print the current date -->
      <element type="text/plain">
        <style>
          <basic-key name="valignment">middle</basic-key>
          <compound-key name="min-size">
            <basic-object name="width">-100.0</basic-object>
            <basic-object name="height">14.0</basic-object>
          </compound-key>
          <compound-key name="absolute_pos">
            <basic-object name="x">0.0</basic-object>
            <basic-object name="y">0.0</basic-object>
          </compound-key>
          <basic-key name="alignment">right</basic-key>
        </style>
        <template references="date-field">
          <basic-object name="nullValue">-</basic-object>
          <basic-object name="format">d-MMM-yyyy</basic-object>
          <basic-object name="field">report.date</basic-object>
        </template>
      </element>

      <element type="shape/generic">
        <style>
          <extends name="thick_horizontal_line"/>
          <compound-key name="absolute_pos">
            <basic-object name="x">0.0</basic-object>
            <basic-object name="y">16.0</basic-object>
          </compound-key>
          <basic-key name="paint">#cfcfcf</basic-key>
        </style>
        <template references="horizontal-line"/>
      </element>
    </page-header>

    <page-footer>
      <style>
        <basic-key name="display-on-firstpage">true</basic-key>
        <compound-key name="min-size">
          <basic-object name="width">0.0</basic-object>
          <basic-object name="height">30.0</basic-object>
        </compound-key>
        <basic-key name="display-on-lastpage">true</basic-key>
      </style>

      <element type="shape/generic">
        <style>
          <extends name="background_rectangle"/>
        </style>
        <template references="rectangle"/>
      </element>
      
      <element type="text/plain">
        <style>
          <basic-key name="valignment">middle</basic-key>
          <basic-key name="alignment">center</basic-key>
          <compound-key name="min-size">
            <basic-object name="width">-100.0</basic-object>
            <basic-object name="height">0.0</basic-object>
          </compound-key>
          <compound-key name="absolute_pos">
            <basic-object name="x">0.0</basic-object>
            <basic-object name="y">0.0</basic-object>
          </compound-key>
        </style>
        <template references="label">
          <basic-object name="nullValue">null</basic-object>
          <basic-object name="content">Cannon Technologies, Inc.</basic-object>
        </template>
      </element>
</page-footer>

    <groups>
      <group name="Group Heading">
        <!--<fields>
          <field>Continent</field>
        </fields>-->   

        <group-header>
          <style>
            <compound-key name="min-size">
              <basic-object name="width">0.0</basic-object>
              <basic-object name="height">30.0</basic-object>
            </compound-key>
            <basic-key name="pagebreak-before">false</basic-key>
            <basic-key name="repeat-header">false</basic-key>
          </style>

          <default-style>
            <basic-key name="font-bold">true</basic-key>
            <basic-key name="font-size">9</basic-key>
            <basic-key name="font">Monospaced</basic-key>
            <basic-key name="font-italic">false</basic-key>
            <basic-key name="paint">black</basic-key>
            <basic-key name="alignment">left</basic-key>
            <basic-key name="dynamic_height">false</basic-key>
            <basic-key name="valignment">bottom</basic-key>
          </default-style>

          <element type="text/plain">
            <style>
              <compound-key name="min-size">
                <basic-object name="width">100.0</basic-object>
                <basic-object name="height">9.0</basic-object>
              </compound-key>
              <compound-key name="absolute_pos">
                <basic-object name="x">0.0</basic-object>
                <basic-object name="y">1.0</basic-object>
              </compound-key>
            </style>
            <template references="label">
              <basic-object name="nullValue">null</basic-object>
              <basic-object name="content">data.getColumnNames()[0]</basic-object>
            </template>
          </element>

          <element type="text/plain">
            <style>
              <compound-key name="min-size">
                <basic-object name="height">9.0</basic-object>
                <basic-object name="width">250.0</basic-object>
              </compound-key>
              <compound-key name="absolute_pos">
                <basic-object name="x">100.0</basic-object>
                <basic-object name="y">1.0</basic-object>
              </compound-key>
            </style>
            <template references="string-field">
              <basic-object name="nullValue">-</basic-object>
              <basic-object name="field">Continent</basic-object>
            </template>
          </element>

          <element type="shape/generic">
            <style>
              <extends name="thin_horizontal_line"/>
              <compound-key name="absolute_pos">
                <basic-object name="x">0.0</basic-object>
                <basic-object name="y">10.0</basic-object>
              </compound-key>
              <basic-key name="paint">black</basic-key>
            </style>
            <template references="horizontal-line"/>
          </element>
        </group-header>

        <group-footer>
          <style>
            <compound-key name="min-size">
              <basic-object name="height">18.0</basic-object>
              <basic-object name="width">0.0</basic-object>
            </compound-key>
            <basic-key name="pagebreak-before">false</basic-key>
          </style>

          <default-style>
            <basic-key name="font-bold">true</basic-key>
            <basic-key name="font-size">9</basic-key>
            <basic-key name="font">Monospaced</basic-key>
            <basic-key name="font-italic">false</basic-key>
            <basic-key name="paint">black</basic-key>
            <basic-key name="alignment">left</basic-key>
            <basic-key name="dynamic_height">false</basic-key>
            <basic-key name="valignment">bottom</basic-key>
          </default-style>
        </group-footer>
      </group>
    </groups>

    <itemband>
      <style>
        <compound-key name="min-size">
          <basic-object name="width">0.0</basic-object>
          <basic-object name="height">10.0</basic-object>
        </compound-key>
      </style>
      <default-style>
        <basic-key name="valignment">middle</basic-key>
        <basic-key name="paint">black</basic-key>
        <basic-key name="alignment">left</basic-key>
        <basic-key name="dynamic_height">false</basic-key>
        <basic-key name="font-bold">false</basic-key>
        <basic-key name="font-size">10</basic-key>
        <basic-key name="font">Monospaced</basic-key>
        <basic-key name="font-italic">false</basic-key>
      </default-style>
      <element name="background" type="shape/generic">
        <style>
          <extends name="background_rectangle"/>
          <basic-key name="paint">#dfdfdf</basic-key>
        </style>
        <template references="rectangle"/>
      </element>

      <element type="shape/generic">
        <style>
          <extends name="thin_horizontal_line"/>
          <basic-key name="stroke" class="java.awt.BasicStroke">0.1</basic-key>
          <compound-key name="absolute_pos">
            <basic-object name="x">0.0</basic-object>
            <basic-object name="y">0.0</basic-object>
          </compound-key>
          <basic-key name="paint">#dfdfdf</basic-key>
        </style>
        <template references="horizontal-line"/>
      </element>

      <element type="shape/generic">
        <style>
          <extends name="thin_horizontal_line"/>
          <basic-key name="stroke" class="java.awt.BasicStroke">0.1</basic-key>
          <compound-key name="absolute_pos">
            <basic-object name="x">0.0</basic-object>
            <basic-object name="y">10.0</basic-object>
          </compound-key>
          <basic-key name="paint">#dfdfdf</basic-key>
        </style>
        <template references="horizontal-line"/>
      </element>

      <element name="portName" type="text/plain">
        <style>
          <compound-key name="min-size">
            <basic-object name="height">20.0</basic-object>
            <basic-object name="width">175.0</basic-object>
          </compound-key>
          <compound-key name="absolute_pos">
            <basic-object name="x">0.0</basic-object>
            <basic-object name="y">1.0</basic-object>
          </compound-key>
        </style>
        <template references="string-field">
          <basic-object name="nullValue">-</basic-object>
          <basic-object name="field">Port Name</basic-object>
        </template>
      </element>

      <element name="totalAttempts" type="text/plain">
        <style>
          <compound-key name="min-size">
            <basic-object name="height">20.0</basic-object>
            <basic-object name="width">75.0</basic-object>
          </compound-key>
          <compound-key name="absolute_pos">
            <basic-object name="x">175.0</basic-object>
            <basic-object name="y">1.0</basic-object>
          </compound-key>
          <basic-key name="alignment">left</basic-key>
          <basic-key name="valignment">middle</basic-key>
        </style>
        <template references="value-number-field">
          <basic-object name="field">Total Attempts</basic-object>
        </template>
      </element>

      <element name="portFailures" type="text/plain">
        <style>
          <compound-key name="min-size">
            <basic-object name="height">20.0</basic-object>
            <basic-object name="width">50.0</basic-object>
          </compound-key>
          <compound-key name="absolute_pos">
            <basic-object name="x">240.0</basic-object>
            <basic-object name="y">1.0</basic-object>
          </compound-key>
          <basic-key name="alignment">left</basic-key>
          <basic-key name="valignment">middle</basic-key>
        </style>
        <template references="value-number-field">
          <basic-object name="field">Port Failures</basic-object>
        </template>
      </element>

      <element name="portPercent" type="text/plain">
        <style>
          <compound-key name="min-size">
            <basic-object name="height">20.0</basic-object>
            <basic-object name="width">50.0</basic-object>
          </compound-key>
          <compound-key name="absolute_pos">
            <basic-object name="x">305.0</basic-object>
            <basic-object name="y">1.0</basic-object>
          </compound-key>
          <basic-key name="alignment">left</basic-key>
          <basic-key name="valignment">middle</basic-key>
        </style>
        <template references="percent-number-field">
          <basic-object name="field">Port Percent</basic-object>
        </template>
      </element>

      <element name="succComm" type="text/plain">
        <style>
          <compound-key name="min-size">
            <basic-object name="height">20.0</basic-object>
            <basic-object name="width">110.0</basic-object>
          </compound-key>
          <compound-key name="absolute_pos">
            <basic-object name="x">370.0</basic-object>
            <basic-object name="y">1.0</basic-object>
          </compound-key>
          <basic-key name="alignment">left</basic-key>
          <basic-key name="valignment">middle</basic-key>
        </style>
        <template references="percent-number-field">
          <basic-object name="field">Successful Communication%</basic-object>
        </template>
      </element>
      
    </itemband>
  </report-description>

  <functions>
    <property-ref name="report.date"/>
    <expression name="expression" class="org.jfree.report.modules.misc.beanshell.BSHExpression">
      <properties>
        <property name="expression">
          import org.jfree.report.util.Log;

          // This declaration is important. The script-method getValue is called by the
          // BSHExpression to evaluate the expression. We override the default implementation
          // and perform own calculations here ...
          Object getValue()
          {
          // dataRow is null before the function is initialized
          if (dataRow == null)
          {
            return null;
          }

          Number population = (Number) dataRow.get (&quot;Population&quot;);
          if (population == null)
          {
            return null;
          }
          long popK = (long)(population.longValue() / 1000);

          // return a string with the number of people in 1000'er
          return (&quot;&quot; + popK + &quot; thousand people&quot;);
          }
        </property>
      </properties>
    </expression>
    <function name="backgroundTrigger" class="org.jfree.report.function.ElementVisibilitySwitchFunction">
      <properties>
        <property name="element">background</property>
      </properties>
    </function>
</functions>
</report-definition>
