<?xml version="1.0" ?>
<project name="trending" default="all">

   <property file="../build/build.properties"/>

   <target name="all" depends="clean,build">
    </target>
   
   <target name="build">
       <mkdir dir="build"/>

       <javac srcdir="src/main/java"
              destdir="build"
              target="${yukon.javac.target}" 
              source="${yukon.javac.source}"
              bootclasspath="${yukon.javac.bootclasspath}"
              debug="${yukon.javac.debug}">
          <classpath>
             <fileset dir="${yukon.lib}">
                <include name="**/*.jar"/>
             </fileset>
          </classpath>
        </javac>

       <jar jarfile="${yukon.lib}/export.jar"
            basedir="build/" 
            manifest="src/main/resources/manifest.mf">
            <manifest>
               <attribute name="Yukon-Version" value="${yukon.build.version}"/>
               <attribute name="Yukon-Details" value="${yukon.build.details}"/>
               <attribute name="Permissions" value="all-permissions"/>
           </manifest>
           <fileset dir="src/main/resources"/>
       </jar>

        <copy todir="${yukon.lib}">
            <fileset dir="src/main/resources">
                <include name="**/*.txt"/>
            </fileset>
        </copy>

       <copy todir="${yukon.lib}">
         <fileset dir="conf"/>
       </copy>
       
   </target>


   <target name="install" depends="build">
        <jar jarfile="${yukon.client.bin}/export.jar"
            basedir="build/"
            manifest="src/main/resources/manifest.mf">
            <manifest>
               <attribute name="Yukon-Version" value="${yukon.build.version}"/>
               <attribute name="Yukon-Details" value="${yukon.build.details}"/>
               <attribute name="Permissions" value="all-permissions"/>
           </manifest>
        </jar>
            
        <copy todir="${yukon.client.bin}">
            <fileset dir="src/main/resources">
                <include name="**/*.txt"/>
            </fileset>
       </copy>

       <copy todir="${yukon.lib}">
         <fileset dir="conf"/>
       </copy>
              
   </target>
   
   
   
   <target name="clean">
       <delete dir="build"/>
   </target>
   
   <!-- Run unit tests - will stop running if a failure or error occurs during a test -->
   <target name="runUnitTests" description="Run all unit tests, stop on failure" />

</project>