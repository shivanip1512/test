package com.cannontech.dbeditor.wizard.capsubbus;
import com.cannontech.database.db.device.*;
import com.cannontech.database.data.*;
import com.cannontech.database.data.device.*;

/**
 * This type was created in VisualAge.
 */
 import java.awt.Dimension;
 import com.cannontech.database.db.*;
 import com.cannontech.database.data.device.*;

 import com.cannontech.common.gui.util.DataInputPanel;
 
public class CCSubstationBusPointSettingsPanel extends com.cannontech.common.gui.util.DataInputPanel implements java.awt.event.ActionListener
{
	private JPanelCCPointVarWatts ivjJPanelVar_Watts = null;

/**
 * Constructor
 */
/* WARNING: THIS METHOD WILL BE REGENERATED. */
public CCSubstationBusPointSettingsPanel() {
	super();
	initialize();
}

/**
 * Method to handle events for the ActionListener interface.
 * @param e java.awt.event.ActionEvent
 */
public void actionPerformed(java.awt.event.ActionEvent e) 
{
	if( e.getSource() == getJPanelVar_Watts() )
	{
		com.cannontech.clientutils.CTILogger.info("Got a change for the VarWatts Panel!!");
		fireInputUpdate();
	}

}


/**
 * 
 */
/* WARNING: THIS METHOD WILL BE REGENERATED. */
private static void getBuilderData() {
/*V1.1
**start of data**
	D0CB838494G88G88GC0FD73ACGGGGGGGGGGGG8CGGGE2F5E9ECE4E5F2A0E4E1F4E135D9FDD0D4579527B3A631091DC9D21B1A0F36C609B18953E8846387AA98BFC0C8540ECEB2D37E2093BB6334E9C2D3E76AF468743230AC84B49859D427CCA4A1C9CDCA1028535AAD0DA210002CE6D9D6D827F412476E839EBE76ED5FFB4B0231CD4F39775D370FF597BFA66C4C19776E391F671C5FB9771C37247648FCFB092D161092BBB1FEFFABA1E4D6BDA119520333B9EF6F13DE87317C5E86BAC01E
	B8DE864F0AA5DEC76AD62F2306FC6FD885346B205D8E6DBF427BC13273E85D91F8C9324F1E3788E92D19F8FF7AFD1C5DFC9F87ED7B55EAF86E872A473D006EDE027B0755C386FF845A7B0DF724929BA183CBF14C5E72C3967E8EE3DCB37435831127F04CDDEA1D511F8ABC9C13894FEDCB59585D702C24273B4DF54A98B7F04FFC32E74BBB36FD3817E5FDCE1DCF313932712CA70FD3C514124030871EAD1E4B431F8414312600908AA9A1DD8C0CB48587452024ABEAD3D43AA228C1688AEB1141410866F2353575
	C686B5DD50A5A5F4B622F994A924770A3AAE0506B50F90926582AA47DB0E8A3A8748816D11E5483B4F013A2B0777D3C01EE5DC166D7BDA0C334E3DBC1F94AEF4A615A5ED9913E15B3218AC751D2F58D352F17DF4EA9B1CD7836DCEA0F616E2151FE5C3BABF4B7F6CB836985A3599DEC7E38667F714A33F9D5A83C0FA86BF63BF7F4C4F687F6AC9C2DE58D57AFA12B34E49E0E7CB4F081DF12E6B957BE10A1F075D0801A2682BDD6EF59C85F28349C0F3007EC4F1BB507DA1BCDB8775B6E5ECCC89350643E76520FA
	DE890AB23C3BDC50E3703CE2C0D10304B0ECB6B89A931C07D36A722938C4E23275930E25B46FA2D2F47B4FCB6D89E4CB5F792EED0531C67E7218ECFB17235EDE2BC03D3D846FA546DC46BFC879ADCF47784CD68FB9382DBA21AF6DE92EE77FFEFE96F759832466634FEC0E84E719373E45D633021D61680A58D9180E3F3A00BA7681BF8CB49BE8BED096D0618A2E63C55DA72E2763AE7085B5A448007730206AE7A3129C94D5C3572B5469F41D08583C1C1B1E477432780455C6854BBECD28170245FF31959B7A28
	DD99538B5B3BC4CB3677491557E2E33FE943D7292FF42EE4B6ACB57945146F377019EDE7D1BE36C720AF9F080DDFC9FD2BF9D5BCC656D3FE4B2AF80CF4171B98013EB4A0E65F439E0C11B52B41EF015A0186002E824D83CADB4DED7C6B6EE3B768C79E0BFD595C475DEF42D31C50D521AB8461AE94907B84D59286E5D1A34618E5EE546B6014F9AB28FF87E00F4F44102852B0892B8BE3A200C9E3E3325D87F00CAA52DE1FB4A64286E3E142574DF59F0427ACE87A45F0D050455888563F5D0D1898977AE0C5D8G
	5E0BD7233EDCB46666437B6E55DCD71F76A06FCC2657614F64FAF11FFF831E5DGEED1F6395A25G9EC3D0A7B9C6EBF00A013B177D9CF76D7B9EA10DBBBB92620E5EAF198CC333B263F1F7182E475E97B87CB7097F1B773155B33A8753EB3A973119863266G6DB6F5FB4779FA06393302A6F214FD2E82C044E0CC53EC6C2C8BF8070863E2C8EF9743E2A888AF1AE1633BAED44670B7241858380772B19E3581C0B4137F7D8B87989F56302219777F08768B3A2ECA0391DD64B736597FA8BD0BB6A554E9062C4BFB
	D1D632466BB884F4F48D1735797303969C399565F2A46CC38FB170F8C8C3433740F85F9A1EBF6D35E3BEB5E136ED65580E755FE97FA6ED077BDC0B0F055F689E2589B1382E1C186FB916771E7219477F680C6E41EC5F60C90E5D8FBD09315B6CC90C5D3FFA264766A71EC458E4FD9D9E4CD514E8480275F39E0CEF81A5949283ACCDB5269016773E6CC3B924102477CB41E1D16F152E0810D32EC14C7650983A985EB357701CA45A40E3603BD79EA6D9DF545B9265C7739EB9ED2BDDEB64A4EBE3B1101D293B87FD
	C81445B1D0D41B9289690C5FC363334157183F6D71517B965698G5257F2FFFB36877B393F99C125CD11E5A626A97FAAEF8D6ACB7CCFC404EB8B9D32DB1C64F70F770D383EBEC10E446E34DCEF95BCE50BAFB3FEE6EF62732F6FC57F3DEC2E3F299741BEEE2C49743DC440B5432AB486218F0313D18F9D532C75509C1093EB27FCF89682155275DEFE9B6B306B969DB0E66FDADCF3442CBB0E193C2FA96F37609C8BCB793DF63E46DABF1D79011A5026C8AD6B18ADBD6B62734C8F7AF05DB070D356F19BF57B2CB1
	31D5531400C40FED6871F7BE2B3D996F8F3E5760B9A4299A641CC1F1025B42FE914F0AF90041B674F93F8BF357C4F5DB00A6BACD439129A922CBF8398BBA78E0B822B3AD31FA68FE9A17F12D396BF85D33F19C6D1B8F6DDDC0456BB8767B0FDB7514D55818D4CF35D98676336275247463FE6D4077E7F1BD25DCBCE0519354B110E28D835A386CCDFD258CD7C67BF81F1D630A70B87743EB72D9B9AB966FD3322E4DE9D93E7977A84ABAB7ABBE1FED237C542C78FCB6EF1C67336950F7A81B67D6229F653A8A6DB9
	59DC2E4DFD7BACF2D1201AB2697D689B0AAA8DCBA14E1B24BC2862E8GE377E686354FC3306692A0463BB7023C9D50FEA91B5F15272368FBB56BF93B0B369B4D7676719B3D87F00DDB3BEBFEF143FB445F13B7FE570C7A519E93E6BBC45B13461A87C93ED6CE7DE4D2090032B357233EDEB4E30B875AA3C0F783252EE73988732325D10CCBC3101CC39C698D0B81B26F991C7BD8044FAD0376A120D3C0FE2009E7F8DC7AC9B75EC96728DBC1E170C5BFDCDF1A91572EC42DF12D709936E7738628D50098262AF4DE
	5B8CGEF6E86FE260F3F445A067A7628B0AEB489D15D657ACC1502E705E1B7151079F02FDEE14C4F5F40FD78DBF44D320DDEC79D50490D5C07A75E675FAE5296BDC05CA91FA67C3ED2687B48665E48F0905E987361452ED76CEC4F2D913EE79A746F5A083C5FC7EA63EC7CED9BA1CD70E47D47462D7D68738D445AAFCC6947737EF44A7C6FCE69C79D3DED4CE732653D47E5AB4EDBCC640C13C93F9DB5EEB26238719C71B610027DC5F626F77DEABB3969EFE14C7CEDED544D81859484CCD7CFC579BDB4FB9337CF
	DE995AA78B5AAFG95ED62FEFAC03F35EF89C7EEF11E7F26673178589B4173D7EC0E2F5F87A83FF6F3FC7DFE070971FA681B3519474D2515689F3B21DD1683D885BA8964838A6770B87A9BFFB339CE6D6ED342EEC8C0E5CB3943645B913935EFAC598E0E2574D58B480A5B7714D4A541522C9C0621D463C9FA9AA81F4957DE05726D003EA2205ADC2F2391688C10BF174B770FCB0DCC3E8EGD72B2E8B01911A91F0617AA4B19AE3E3F0E232BD9D1DCEB6B9B7591DF71AFE13C9490D37DDA7654F490D375D76B2EE
	3BF950D71C4B31FAA9C2CC9C8DDA5E3F234FFCDD33E8C677B0F2674A64F5CDF6E5623AE6F3E5623A66594A696B1A1D15496B1A02CAEBDD43F0F5E7B54642AF37F89DD7016683258365EC61189AFD6D9D062984F86A00C227CD21DF32F43E7F792A64327A2A2E7F7D6B5FD518378EAA3A2E0C617A1C9F28C2FB69CA18B299EF248AF584294F084E06723B3C8A6324AC8ED1B64BF51E0B72DCE757960E3B8EFB8CEB97AC6F4F174DBC6E0AE6F48F2607FB2B135B627E6A6B5BE2C1B52DABC0073E4930E8FC53292679
	665010A61AB6CF2B2EB1F9DDD0C8E99296A7D773D06F3B3FEEB74EF4B26F5AB84263C329C11DB0E6G48E93443F93198426E40430457999B206F885D1FD09E7B951DCE44AB4E437F61B6A35B084BBF2B66F1396E0987C97B73FBCA9AC86238FCA61F1D7B6E7CD87EB2705FA23BF1AF90EB6C4C01B1857953673DEC7F2D7F3256C0B58F5459CA126CDFE42CD71C9FDF8335BAD1374D4FFA9DEE20B050EC2007005201F2008A000A00AA1E73BA6A01CE82F5828DG49C0A9C0F31F633EDEDD7B81BC7B04D163E66C20
	B98A75F6E09A89A3F5F8D5E0B588732DDFD2DDAF06F532ED1CD7C4F9D940BBED633166D1041C0199EF6DFB49760248F28E52544F87C72102738943661C0B4E64F89EF0DE9F4F22B3F1EC396C3CB636041D09E34B38539ADB986FABA762F1987463B74725183CCBA66FB63AA6727A2520BEE2726F2267C2FE27089B1A5FE56939221467B7F877D9F8178C5E03CE74C990F9C4D1795C79CE2C5B06A4D9E66DD4BAC68A010B1A7AF80C1ED18A8B16F37F5864DDA27C5B0070FEB5E15F36A4C126C7E77C3A09FDB1BEBF
	BAE17F131F7B588B4F34DF913B261257F9595154C58FD0B8FE42D57A6242D29BA96BA2654CA0DD248C355AC56CD469DD24948CB201FFE014CDA566BF9FFCED751F3D379DCC7A8DE177D643FF36467B4F0293E84BD35BA0CF5C46FD6055639FCD034B5EB1C116F5C13E5C9A8AA2C64FCE6A2265FB7789DCDF63E30CCEC32FA7705C2316B97F87D0CB8788B3D8D70D948CGG2CA0GGD0CB818294G94G88G88GC0FD73ACB3D8D70D948CGG2CA0GG8CGGGGGGGGGGGGGGGGGE2F5E9EC
	E4E5F2A0E4E1F4E1D0CB8586GGGG81G81GBAGGGCE8CGGGG
**end of data**/
}

/**
 * Return the JPanelVar_Watts property value.
 * @return com.cannontech.dbeditor.wizard.capsubbus.JPanelCCPointVarWatts
 */
/* WARNING: THIS METHOD WILL BE REGENERATED. */
private JPanelCCPointVarWatts getJPanelVar_Watts() {
	if (ivjJPanelVar_Watts == null) {
		try {
			ivjJPanelVar_Watts = new com.cannontech.dbeditor.wizard.capsubbus.JPanelCCPointVarWatts();
			ivjJPanelVar_Watts.setName("JPanelVar_Watts");
			// user code begin {1}
			// user code end
		} catch (java.lang.Throwable ivjExc) {
			// user code begin {2}
			// user code end
			handleException(ivjExc);
		}
	}
	return ivjJPanelVar_Watts;
}


/**
 * This method was created in VisualAge.
 * @return java.awt.Dimension
 */
public Dimension getMinimumSize() {
	return getPreferredSize();
}


/**
 * This method was created in VisualAge.
 * @return java.awt.Dimension
 */
public Dimension getPreferredSize() {
	return new Dimension( 350, 200);
}


/**
 * This method was created in VisualAge.
 * @return java.lang.Object
 * @param val java.lang.Object
 */
public Object getValue(Object val) 
{
	com.cannontech.database.data.capcontrol.CapControlSubBus ccBus = (com.cannontech.database.data.capcontrol.CapControlSubBus)val;
   
  	ccBus.getCapControlSubstationBus().setCurrentVarLoadPointID( 
            getJPanelVar_Watts().getSelectedVarPointID() );


	ccBus.getCapControlSubstationBus().setCurrentWattLoadPointID(
            getJPanelVar_Watts().getSelectedWattPointID() );

	return val;
}


/**
 * Called whenever the part throws an exception.
 * @param exception java.lang.Throwable
 */
private void handleException(Throwable exception) {

	/* Uncomment the following lines to print uncaught exceptions to stdout */
	com.cannontech.clientutils.CTILogger.info("--------- UNCAUGHT EXCEPTION ---------");
	com.cannontech.clientutils.CTILogger.error( exception.getMessage(), exception );;
}


/**
 * Initializes connections
 */
private void initConnections()
{

	getJPanelVar_Watts().addActionListener( this );

/*	getCalculatedVarDeviceComboBox().addActionListener(this);
	getJComboBoxCalcWattsDevice().addActionListener(this);
	getJComboBoxCalcWattsPoint().addActionListener(this);
	getCalculatedVarPointComboBox().addActionListener(this);
	getJCheckBoxDisplayVars().addActionListener(this);
	getJCheckBoxDisplayWatts().addActionListener(this);
*/

}


/**
 * Initialize the class.
 */
/* WARNING: THIS METHOD WILL BE REGENERATED. */
private void initialize() {
	try {
		// user code begin {1}
		// user code end
		setName("CCSubstationBusPointSettingsPanel");
		setLayout(new java.awt.GridBagLayout());
		setSize(365, 324);

		java.awt.GridBagConstraints constraintsJPanelVar_Watts = new java.awt.GridBagConstraints();
		constraintsJPanelVar_Watts.gridx = 0; constraintsJPanelVar_Watts.gridy = 0;
		constraintsJPanelVar_Watts.fill = java.awt.GridBagConstraints.BOTH;
		constraintsJPanelVar_Watts.weightx = 1.0;
		constraintsJPanelVar_Watts.weighty = 1.0;
		constraintsJPanelVar_Watts.insets = new java.awt.Insets(4, 4, 4, 4);
		add(getJPanelVar_Watts(), constraintsJPanelVar_Watts);
	} catch (java.lang.Throwable ivjExc) {
		handleException(ivjExc);
	}
	// user code begin {2}
	
   initConnections();
   
	// user code end
}

/**
 * This method was created in VisualAge.
 * @return boolean
 */
public boolean isInputValid() 
{
   String val = getJPanelVar_Watts().isInputValid();
   if( val != null )
   {
      setErrorString(val);
      return false;      
   }
   
	return true;
}


/**
 * main entrypoint - starts the part when it is run as an application
 * @param args java.lang.String[]
 */
public static void main(java.lang.String[] args) {
	try {
		javax.swing.JFrame frame = new javax.swing.JFrame();
		CCSubstationBusPointSettingsPanel aCCSubstationBusPointSettingsPanel;
		aCCSubstationBusPointSettingsPanel = new CCSubstationBusPointSettingsPanel();
		frame.setContentPane(aCCSubstationBusPointSettingsPanel);
		frame.setSize(aCCSubstationBusPointSettingsPanel.getSize());
		frame.addWindowListener(new java.awt.event.WindowAdapter() {
			public void windowClosing(java.awt.event.WindowEvent e) {
				System.exit(0);
			};
		});
		frame.show();
		java.awt.Insets insets = frame.getInsets();
		frame.setSize(frame.getWidth() + insets.left + insets.right, frame.getHeight() + insets.top + insets.bottom);
		frame.setVisible(true);
	} catch (Throwable exception) {
		System.err.println("Exception occurred in main() of com.cannontech.common.gui.util.DataInputPanel");
		com.cannontech.clientutils.CTILogger.error( exception.getMessage(), exception );;
	}
}


/**
 * This method was created in VisualAge.
 * @param val java.lang.Object
 */
public void setValue(Object val ) 
{
	com.cannontech.common.util.NativeIntVector usedVARPtIDs = 
			new com.cannontech.common.util.NativeIntVector(10);
      
   if( val == null )
      usedVARPtIDs = com.cannontech.database.db.capcontrol.CapControlSubstationBus.getUsedVARPointIDs( null, null );
   else
      usedVARPtIDs = com.cannontech.database.db.capcontrol.CapControlSubstationBus.getUsedVARPointIDs(
         ((com.cannontech.database.data.capcontrol.CapControlSubBus)val).getCapControlPAOID(),
         null );
   
   if( val == null )
   {
   	getJPanelVar_Watts().setInitialValues( usedVARPtIDs, null );
   }	
	else  //val will not be null if we are using this panel for an editor
	{
		com.cannontech.database.data.capcontrol.CapControlSubBus sub = 
					(com.cannontech.database.data.capcontrol.CapControlSubBus)val;

		getJPanelVar_Watts().setInitialValues( usedVARPtIDs, null,
				sub.getCapControlSubstationBus().getCurrentVarLoadPointID().intValue(),
				sub.getCapControlSubstationBus().getCurrentWattLoadPointID().intValue() );
	}


}
}