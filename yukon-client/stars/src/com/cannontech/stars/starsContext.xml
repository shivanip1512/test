<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="
       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd
       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd
       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd">

    <bean id="starsDatabaseCache"
        class="com.cannontech.database.cache.StarsDatabaseCache"
        init-method="init">
        <property name="asyncDynamicDataSource"
            ref="asyncDynamicDataSource" />
    </bean>

    <bean id="deviceActivationService"
        class="com.cannontech.stars.dr.hardware.service.impl.DeviceActivationServiceImpl">
        <property name="customerAccountDao" ref="customerAccountDao" />
        <property name="inventoryBaseDao" ref="inventoryBaseDao" />
        <property name="hardwareBaseDao" ref="hardwareBaseDao" />
        <property name="customerEventBaseDao" ref="customerEventBaseDao"/>
        <property name="cacheService" ref="starsCacheService"/>
    </bean>

    <bean id="deviceVerificationService" class="com.cannontech.stars.dr.hardware.service.impl.DeviceVerificationServiceImpl">
        <property name="hardwareBaseDao" ref="hardwareBaseDao" />
        <property name="porterConnection" ref="porterConnection"/>
    </bean>

	<bean id="lmHardwareControlInformationService" class="com.cannontech.stars.dr.hardware.service.impl.LMHardwareControlInformationServiceImpl">
		<property name="lmHardwareControlGroupDao" ref="lmHardwareControlGroupDao"/>
	</bean>
	
	<bean id="lmHardwareControlGroupDao"
        class="com.cannontech.stars.dr.hardware.dao.impl.LMHardwareControlGroupDaoImpl">
        <property name="nextValueHelper" ref="nextValueHelper" />
        <property name="simpleJdbcTemplate" ref="simpleJdbcTemplate" />
    </bean>
	
    <bean id="customerAccountDao"
        class="com.cannontech.stars.dr.account.dao.impl.CustomerAccountDaoImpl">
        <property name="nextValueHelper" ref="nextValueHelper" />
        <property name="simpleJdbcTemplate" ref="simpleJdbcTemplate" />
    </bean>
    
    <bean id="accountSiteDao" class="com.cannontech.stars.dr.account.dao.impl.AccountSiteDaoImpl"/>
    
    <bean id="starsDaoAdvice" class="com.cannontech.stars.dr.advice.StarsDaoAdvice"/>

    <bean id="ecMappingDao" class="com.cannontech.stars.core.dao.impl.ECMappingDaoImpl"/>

    <bean id="applianceDao" class="com.cannontech.stars.dr.appliance.dao.impl.ApplianceDaoImpl"/>

    <bean id="starsProgramDao" class="com.cannontech.stars.dr.program.dao.impl.ProgramDaoImpl"/>
    
    <bean id="inventoryDao" class="com.cannontech.stars.dr.hardware.dao.impl.InventoryDaoImpl" />

    <bean id="customerEventDao" class="com.cannontech.stars.dr.thermostat.dao.impl.CustomerEventDaoImpl" />

    <bean id="thermostatScheduleDao" class="com.cannontech.stars.dr.thermostat.dao.impl.ThermostatScheduleDaoImpl" />

    <bean id="thermostatService" class="com.cannontech.stars.dr.thermostat.service.impl.ThermostatServiceImpl" />

    <bean id="scheduledOptOutDao" class="com.cannontech.stars.dr.optout.dao.impl.ScheduledOptOutDaoImpl"/>

    <bean id="applianceAndProgramDao"
        class="com.cannontech.stars.dr.account.dao.impl.ApplianceAndProgramDaoImpl">
        <property name="simpleJdbcTemplate" ref="simpleJdbcTemplate" />
    </bean>

    <bean id="hardwareBaseDao"
        class="com.cannontech.stars.dr.hardware.dao.impl.LMHardwareBaseDaoImpl">
        <property name="nextValueHelper" ref="nextValueHelper" />
        <property name="simpleJdbcTemplate" ref="simpleJdbcTemplate" />
    </bean>
    

    <bean id="inventoryBaseDao"
        class="com.cannontech.stars.dr.hardware.dao.impl.InventoryBaseDaoImpl">
        <property name="nextValueHelper" ref="nextValueHelper" />
        <property name="simpleJdbcTemplate" ref="simpleJdbcTemplate" />
    </bean>

    <bean id="ecSearchDao"
        class="com.cannontech.stars.core.dao.impl.ECSearchDaoImpl">
        <property name="simpleJdbcTemplate" ref="simpleJdbcTemplate" />
    </bean>
    
    <bean id="starsRowCountDao" class="com.cannontech.stars.core.dao.impl.StarsRowCountDaoImpl">
        <property name="simpleJdbcTemplate" ref="simpleJdbcTemplate"/>
    </bean>
    
    <bean id="customerEventBaseDao" class="com.cannontech.stars.dr.event.dao.impl.LMCustomerEventBaseDaoImpl">
        <property name="nextValueHelper" ref="nextValueHelper" />
        <property name="simpleJdbcTemplate" ref="simpleJdbcTemplate"/>
    </bean>
    
    <bean id="hardwareEventDao" class="com.cannontech.stars.dr.event.dao.impl.LMHardwareEventDaoImpl">
        <property name="simpleJdbcTemplate" ref="simpleJdbcTemplate"/>
    </bean>
    
    <bean id="eventWorkOrderDao" class="com.cannontech.stars.dr.event.dao.impl.EventWorkOrderDaoImpl">
        <property name="simpleJdbcTemplate" ref="simpleJdbcTemplate"/>
    </bean>
    
    <bean id="starsCacheService" class="com.cannontech.stars.core.service.impl.StarsCacheServiceImpl"/>
    
    <bean id="controlHistoryDao" class="com.cannontech.stars.dr.controlhistory.dao.impl.ControlHistoryDaoImpl"/>
    
    <!-- Import Customer Accounts/Hardware Import Job -->    
    <bean id="importCustAccountsSchedulerJob"
        class="com.cannontech.jobs.support.SimpleYukonJobDefinition">
        <property name="taskName">
            <idref local="importCustAccountsSchedulerTask" />
        </property>
        <property name="title" value="Import Customer Account/Hardware Job" />
        <property name="inputs">
            <bean class="com.cannontech.web.input.InputRoot">
                <property name="inputList">
                    <list>
                        <bean
                            class="com.cannontech.web.input.InputBase">
                            <property name="field" value="energyCompany" />
                            <property name="displayName"
                                value="Energy Company" />
                            <property name="type">
                                <bean
                                    class="com.cannontech.web.input.type.StringType" />
                            </property>
                        </bean>
                        <bean
                            class="com.cannontech.web.input.InputBase">
                            <property name="field" value="email" />
                            <property name="displayName"
                                value="Email Address" />
                            <property name="type">
                                <bean
                                    class="com.cannontech.web.input.type.StringType" />
                            </property>
                        </bean>
                    </list>
                </property>
            </bean>
        </property>
    </bean>

    <!--  Import Customer Account/Hardware Task -->
    <bean id="importCustAccountsSchedulerTask"
        class="com.cannontech.stars.util.task.ImportCustAccountsSchedulerTask"
        scope="prototype">
    </bean>
    
</beans>