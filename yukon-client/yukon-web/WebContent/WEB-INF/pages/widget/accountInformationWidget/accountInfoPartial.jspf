<%@ page trimDirectiveWhitespaces="true" %>

<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="cti" uri="http://cannontech.com/tags/cti" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<%@ taglib prefix="tags" tagdir="/WEB-INF/tags" %>

<%-- CUSTOMER INFORMATION --%>
<cti:msg2 var="custInfo" key=".custInfo"/>
<tags:sectionContainer title="${custInfo}">
    <tags:nameValueContainer2 tableClass="row-highlighting striped two-column-table" >
        <tags:nameValue2 nameKey=".name">
            ${fn:escapeXml(mspCustomer.firstName)}
            <c:if test="${not empty mspCustomer.MName}">${fn:escapeXml(mspCustomer.MName)}</c:if>
            ${fn:escapeXml(mspCustomer.lastName)}
        </tags:nameValue2>
        <c:if test="${not empty mspCustomer.DBAName}">
            <tags:nameValue2 nameKey=".dba">${fn:escapeXml(mspCustomer.DBAName)}</tags:nameValue2>
        </c:if>
        <tags:nameValue2 nameKey=".address"><tags:address address="${custAddress}" /></tags:nameValue2>
        <c:choose>
            <c:when test="${not empty mspPhoneNumbers}">
                <c:forEach items="${mspPhoneNumbers}" var="phoneNumber">
                    <tags:nameValue2 nameKey=".phoneNumber" >${fn:escapeXml(phoneNumber)}</tags:nameValue2>
                </c:forEach>
            </c:when>
            <c:otherwise>
                <tags:nameValue2 nameKey=".phoneNumber" ></tags:nameValue2>
            </c:otherwise>
        </c:choose>
        <c:choose>
            <c:when test="${not empty mspEmailAddresses}">
                <c:forEach items="${mspEmailAddresses}" var="emailAddress">
                    <tags:nameValue2 nameKey=".emailAddress">${fn:escapeXml(emailAddress)}</tags:nameValue2>
                </c:forEach>
            </c:when>
            <c:otherwise>
                <tags:nameValue2 nameKey=".emailAddress"></tags:nameValue2>
            </c:otherwise>
        </c:choose>
    </tags:nameValueContainer2>
</tags:sectionContainer>

<%-- SERVICE LOCATION INFORMATION --%>
<cti:msg2 var="serviceLocation" key=".serviceLocation"/>
<tags:sectionContainer title="${serviceLocation}">
    <tags:nameValueContainer2 tableClass="row-highlighting striped two-column-table" >
        <c:if test="${not empty mspServLoc.objectID}">
            <tags:nameValue2 nameKey=".serviceLocation">${fn:escapeXml(mspServLoc.objectID)}</tags:nameValue2>
        </c:if>
        <c:if test="${not empty mspServLoc.custID}">
            <tags:nameValue2 nameKey=".custNumber">${fn:escapeXml(mspServLoc.custID)}</tags:nameValue2>
        </c:if>
        <c:if test="${not empty mspServLoc.accountNumber}">
            <tags:nameValue2 nameKey=".acctNumber">${fn:escapeXml(mspServLoc.accountNumber)}</tags:nameValue2>
        </c:if>
        <c:if test="${not empty mspServLoc.siteID}">
            <tags:nameValue2 nameKey=".siteNumber">${fn:escapeXml(mspServLoc.siteID)}</tags:nameValue2>
        </c:if>
        <c:if test="${not empty mspServLoc.gridLocation}">
            <tags:nameValue2 nameKey=".mapLocation">${fn:escapeXml(mspServLoc.gridLocation)}</tags:nameValue2>
        </c:if>
        <tags:nameValue2 nameKey=".address"><tags:address address="${servLocAddress}" /></tags:nameValue2>
    </tags:nameValueContainer2>
</tags:sectionContainer>