<?xml version="1.0" encoding="ISO-8859-1"?>
<?xml-stylesheet type="text/xsl" href="module_config.xsl"?>
<mainmenu>
<!-- 
     If you need to add functionality to the menu, please see the following classes:
       com.cannontech.web.menu.CommonMenuBuilder
       com.cannontech.web.menu.StandardMenuRenderer
       
     The <require***> tags can be used under the <option> and <module> elements.
     More than one tag can be specified if needed. The "value" attribute currently
     accepts either a fully qualified field name (e.g. com.cannontech.something.Class.PROPERTY)
     or a shortend version if the class is under com.cannontech.roles 
     (e.g. CBCSettingsRole.ACCESS).

     If you need to add a new "permission" types (like requireProperty) see:
       com.cannontech.user.checker.UserChecker
       com.cannontech.web.menu.CommonMenuBuilder
       
     Be sure to use <link> for normal URLs (context path will be added)
     and <action> to call a JavaScript function via the javascript: protocol.
     
     CSS and JS files that should be included on every page of the module 
     can be declared with the <css file=""/> and <script file=""/> tags
     respectively.
-->
  <portals>
    <links>
    <!-- Consumer Account Information -->
    <option id="consumerAccountInformation">
      <requireRole value="ConsumerInfoRole.ROLEID" />

      <links>  
        <option id="newAccount">
          <requireProperty value="ConsumerInfoRole.NEW_ACCOUNT_WIZARD"/>
          <link>Consumer/New.jsp?Init=true&amp;Wizard=true</link>
        </option>
        <option id="newAccount">
          <requireFalseProperty value="ConsumerInfoRole.NEW_ACCOUNT_WIZARD"/>
          <link>Consumer/New.jsp?Init=true</link>
        </option>
      </links>
    </option>

    <!-- Metering -->
    <option id="metering">
      <requiredRole value="MeteringRole.ROLEID" />

      <links>
        <option id="allTrends">
          <link>/operator/Metering/Metering.jsp</link>
          <requireRole value="TrendingRole.ROLEID"/>
        </option>

        <option id="bulkImporter">
          <link>/spring/amr/bulkimporter/home</link>
          <requireProperty value="operator.MeteringRole.IMPORTER_ENABLED"/>
        </option>

        <option id="metering">
          <link>/spring/csr/search</link>
        </option>
      </links>
    </option>

    <!-- Client Launcher 
    <option id="clientLauncher">
      <requireProperty value="WebClientRole.JAVA_WEB_START_LAUNCHER_ENABLED" />
   
      <links>
        <option id="databaseEditor">
          <requireRole value="DBEditorRole.ROLEID" />
          <script>jwsLaunch('/jws/dbeditor.jnlp')</script>
        </option>

        <option id="tabularDataConsole">
          <requireRole value="TDCRole.ROLEID" />
          <script>jwsLaunch('/jws/tdc.jnlp')</script>
        </option>

        <option id="trending">
          <requireRole value="TrendingRole.ROLEID" />
          <script>jwsLaunch('/jws/trending.jnlp')</script>
        </option>
        
        <option id="esubstationEditor">
          <requireRole value="EsubEditorRole.ROLEID" />
          <script>jwsLaunch('/jws/esub.jnlp')</script>
        </option>
        
        <option id="commander">
          <requireRole value="CommanderRole.ROLEID" />
          <script>jwsLaunch('/jws/commander.jnlp')</script>
        </option>
        
      </links>
    </option>
-->
    <!-- Load Response -->
    <option id="loadResponse">
      <requiredRole value="loadcontrol.DirectLoadcontrolRole.ROLEID"/>
      
      <links>
        <option id="direct">
          <link>/operator/LoadControl/oper_direct.jsp</link>
          <requireRole value="loadcontrol.DirectLoadcontrolRole.ROLEID"/>
          <requireProperty value="loadcontrol.DirectLoadcontrolRole.DIRECT_CONTROL"/>
        </option>

        <option id="ciCurtailment">
          <link>/cc/programSelect.jsf</link>
          <requireRole value="CICurtailmentRole.ROLEID" />
        </option>

        <option id="oddsForControl">
          <link>/operator/Consumer/Odds.jsp</link>
          <requireRole value="OddsForControlRole.ROLEID" />
        </option>
        
        <option id="threeTierDirect">
          <link>/loadmgmt/controlareas.jsp</link>
          <requireRole value="loadcontrol.DirectLoadcontrolRole.ROLEID"/>
          <requireProperty value="loadcontrol.DirectLoadcontrolRole.THREE_TIER_DIRECT" />
        </option>
        
      </links>
    </option>

    <!-- Capacitor Control -->
    <option id="capacitorControl">
      <requireRole value="CBCSettingsRole.ROLEID" />

      <links>
        <option id="capControl">
          <link>/capcontrol/subareas.jsp</link>
        </option>

      </links>
    </option>

    <!-- Hardware Inventory -->
    <option id="hardwareInventory">
      <requireRole value="InventoryRole.ROLEID" />
      
      <links>
        <option id="inventory">
          <link>/operator/Hardware/Filter.jsp</link>
          <requireProperty value="InventoryRole.INVENTORY_SHOW_ALL" />
        </option>

        <option id="purchasing">
          <link>/operator/Hardware/PurchaseTrack.jsp</link>
          <requireProperty value="InventoryRole.PURCHASING_ACCESS" />
        </option>
      
      </links>
    </option>

    <!-- Analysis -->
    <option id="analysis">
      
      <links>
        <option id="reporting">
          <link>/analysis/Reports.jsp</link>
          <requireRole value="ReportingRole.ROLEID"/>
        </option>

        <option id="commander">
          <link>/apps/SelectDevice.jsp</link>
          <requireRole value="CommanderRole.ROLEID" />
        </option>

      </links>
    </option>
    
    <!-- Administration -->
    <option id="administration">
      <requireRole value="operator.AdministratorRole.ROLEID" />

      <links>
        <option id="configEnergyCompany">
          <link>/operator/Admin/ConfigEnergyCompany.jsp</link>
          <requireProperty value="operator.AdministratorRole.ADMIN_CONFIG_ENERGY_COMPANY"/>
        </option>

        <option id="memberManagement">
          <link>/operator/Admin/ManageMembers.jsp</link>
          <requireProperty value="operator.AdministratorRole.ADMIN_MANAGE_MEMBERS"/>
        </option>

        <option id="newEnergyCompany">
          <link>/operator/Admin/NewEnergyCompany.jsp</link>
          <requireProperty value="operator.AdministratorRole.ADMIN_CREATE_ENERGY_COMPANY"/>
        </option>

<!--         
        <option id="deleteEnergyCompany">
          <link>/servlet/StarsAdmin</link>
          <requireProperty value="operator.AdministratorRole.ADMIN_DELETE_ENERGY_COMPANY"/>
        </option>
 -->
        <option id="viewBatchCommands">
          <link>/operator/Admin/SwitchCommands.jsp</link>
          <requireProperty value="operator.AdministratorRole.ADMIN_VIEW_BATCH_COMMANDS"/>
        </option>

        <option id="viewScheduledOptOutEvents">
          <link>/operator/Admin/OptOutEvents.jsp</link>
          <requireProperty value="operator.AdministratorRole.ADMIN_VIEW_OPT_OUT_EVENTS"/>
        </option>

        <option id="multispeakSetup">
          <link>/msp_setup.jsp</link>
          <requireProperty value="operator.AdministratorRole.ADMIN_MULTISPEAK_SETUP"/>
        </option>

        <option id="userGroupEditor">
          <link>/spring/editor/userGroupSelector</link>
          <requireProperty value="AdministratorRole.ADMIN_LM_USER_ASSIGN"/>
        </option>

        <option id="viewLogs">
          <link>/logging/</link>
        </option>

        <option id="manageIndexes">
          <link>/index/manage</link>
        </option>
        
        <option id="deviceConfiguration">
          <link>/spring/deviceConfiguration?home</link>
          <requireProperty value="AdministratorRole.ADMIN_VIEW_CONFIG"/>
        </option>

      </links>
    </option>
    
    </links>
  </portals>    

  <!--  Modules -->
  <module name="amr">
    <skin name="standard"/>
   	<links>
   		<option id="deviceselection">
   		   <link>/spring/csr/search</link>	
   		</option>
   		<option id="billing">
   		   <links>
	          <option id="generation">
	            <requireRole value="application.BillingRole.ROLEID"/>
	   		    <link>/operator/Metering/Billing.jsp</link>
	          </option>
	          <option id="setup">
	          	<requireRole value="application.BillingRole.ROLEID"/>
	            <link>/spring/dynamicBilling/overview</link>
	          </option>
          </links>	
   		</option>
		<option id="scheduler">
		   <requireRole value="SchedulerRole.ROLEID"/>
   		   <link>/spring/macsscheduler/schedules/view</link>	
   		</option>
		<option id="devicegroups">
          <requireRole value="CommanderRole.ROLEID"/> <!-- THIS ROLE will change when more group items are added -->
		  <links>
		    <option id="home">
              <link>/spring/group/editor/home</link>
            </option>
		    <option id="commander">
              <link>/spring/group/commander/groupProcessing</link>
              <requireRole value="CommanderRole.ROLEID"/>
            </option>
          </links>
	    </option>
  	</links>  
  </module>

  <module name="consumer">
    <skin name="leftSideMenu"/>
   	<links>
   		<option id="account">
   		   <requireProperty value="ResidentialCustomerRole.CONSUMER_INFO_ACCOUNT_GENERAL" />
   		   <links>
	          <option id="general">
	   		    <link>/spring/stars/consumer/general</link>
	          </option>
	          <option id="contacts">
	            <requireProperty value="ResidentialCustomerRole.CONTACTS_ACCESS" />
                <link>/spring/stars/consumer/contacts</link>
	          </option>
          </links>	
   		</option>
   		<option id="thermostat">
		   <requireProperty value="ResidentialCustomerRole.CONSUMER_INFO_HARDWARES_THERMOSTAT" />
		   <links>
		       <dynamicOptions bean="themostatMenuOption"/>
		   </links>
		</option>
		<option id="programs">
		  <links>
		    <option id="controlHistory">
			  <requireProperty value="ResidentialCustomerRole.CONSUMER_INFO_PROGRAMS_CONTROL_HISTORY" />
              <link>/spring/stars/consumer/controlhistory</link>
            </option>
		    <option id="enrollment">
			  <requireProperty value="ResidentialCustomerRole.CONSUMER_INFO_PROGRAMS_ENROLLMENT" />
              <link>/spring/stars/consumer/enrollment</link>
            </option>
		    <option id="optOut">
			  <requireProperty value="ResidentialCustomerRole.CONSUMER_INFO_PROGRAMS_OPT_OUT" />
              <link>/spring/stars/consumer/optout</link>
            </option>
          </links>
	    </option>
		<option id="trending">
		  <requireRole value="TrendingRole.ROLEID" />
		  <links>
			<dynamicOptions bean="trendingMenuOption">
		  	  <requireRole value="TrendingRole.ROLEID" />
	    	</dynamicOptions>
          </links>
	    </option>
		<option id="questions">
		  <requireProperty value="ResidentialCustomerRole.CONSUMER_INFO_QUESTIONS_UTIL" />
		  <requireProperty value="ResidentialCustomerRole.CONSUMER_INFO_QUESTIONS_FAQ" />
		  <links>
		    <option id="contactUs">
			  <requireProperty value="ResidentialCustomerRole.CONSUMER_INFO_QUESTIONS_UTIL" />
              <link>/spring/stars/consumer/contactus</link>
            </option>
		    <dynamicOptions id="faq" bean="consumerFAQMenuOption">
			  <requireProperty value="ResidentialCustomerRole.CONSUMER_INFO_QUESTIONS_FAQ" />
            </dynamicOptions>
          </links>
	    </option>
		<option id="administration">
		  <requireProperty value="ResidentialCustomerRole.CONSUMER_INFO_ADMIN_CHANGE_LOGIN" />
		  <links>
		    <option id="changeLogin">
              <link>/spring/stars/consumer/changelogin</link>
            </option>
          </links>
	    </option>
  	</links>  
  	<css file="/WebConfig/yukon/styles/StarsConsumerStyles.css"/>
  </module>
  
  <module name="capcontrol">
    <links>
      <option id="create">
        <requireProperty value="capcontrol.CBCSettingsRole.CBC_DATABASE_EDIT"/>
        <links>
          <option id="area">
            <link>/editor/cbcWizBase.jsf?type=4002</link>
          </option>
          <option id="specialarea">
            <link>/editor/cbcWizBase.jsf?type=4003</link>
          </option>
          <option id="substation">
            <link>/editor/cbcWizBase.jsf?type=4004</link>
          </option>
          <option id="substationbus">
            <link>/editor/cbcWizBase.jsf?type=4000</link>
          </option>
          <option id="feeder">
            <link>/editor/cbcWizBase.jsf?type=4001</link>
          </option>
          <option id="capbank">
            <link>/editor/cbcWizBase.jsf?type=1050</link>
          </option>
          <option id="cbc">
            <link>/editor/cbcWizBase.jsf?type=1051</link>
          </option>
          <option id="schedule">
            <link>/editor/cbcWizBase.jsf?type=100000</link>
          </option>
          <option id="strategy">
            <link>/editor/cbcWizBase.jsf?type=5</link>
          </option>
        </links>
      </option>
      <option id="analysis">
        <requireFalseProperty value="capcontrol.CBCSettingsRole.HIDE_REPORTS"/>
        <links>
          <option id="todaykvarperwatt">
	        <requireFalseProperty value="capcontrol.CBCSettingsRole.HIDE_GRAPHS"/>
            <script>loadPointChartGreyBox('Today kVAR/Watt', '/spring/reports/cbcAnalysisChart/cbcChart?analysisType=VW&amp;period=DAY')</script>
          </option>
          <option id="todaypf">
	        <requireFalseProperty value="capcontrol.CBCSettingsRole.HIDE_GRAPHS"/>
            <script>loadPointChartGreyBox('Today PF', '/spring/reports/cbcAnalysisChart/cbcChart?analysisType=PF&amp;period=DAY')</script>
          </option>
          <option id="30daykvarperwatt">
	        <requireFalseProperty value="capcontrol.CBCSettingsRole.HIDE_GRAPHS"/>
            <script>loadPointChartGreyBox('30 Day kVAR/Watt', '/spring/reports/cbcAnalysisChart/cbcChart?analysisType=VW&amp;period=MONTH')</script>
          </option>
          <option id="30daypf">
	        <requireFalseProperty value="capcontrol.CBCSettingsRole.HIDE_GRAPHS"/>
            <script>loadPointChartGreyBox('30 Day PF', '/spring/reports/cbcAnalysisChart/cbcChart?analysisType=PF&amp;period=MONTH')</script>
          </option>
        </links>
      </option>
      <option id="view">
        <links>
          <option id="schedules">
            <script>post('/editor/paoSchedListBase.jsf')</script>
          </option>
          <option id="strategies">
            <script>post('/editor/strategyList.jsf')</script>
          </option>
          <option id="oneline">
	        <requireFalseProperty value="capcontrol.CBCSettingsRole.HIDE_ONELINE"/>
            <script>showOneLine()</script>
          </option>
          <option id="recentcontrols">
            <script>showRecentCmds('tabledata.jsp?type=RC')</script>
          </option>
          <option id="recentcapbankmoves">
       		<link>movedCapBanks.jsp</link>  
       	  </option>
       	  <option id="specialareas">
       		<link>specialSubAreas.jsp</link>  
       	  </option>
        </links>
      </option>
      <option id="orphans">
        <links>
        <option id="orphanedsubstations">
            <script>resultsPost('cbc_lastSearch=__cti_oSubstations__')</script>
          </option>
         <option id="orphanedsubstationbuses">
            <script>resultsPost('cbc_lastSearch=__cti_oSubBuses__')</script>
          </option>
          <option id="orphanedfeeders">
            <script>resultsPost('cbc_lastSearch=__cti_oFeeders__')</script>
          </option>
          <option id="orphanedcapbanks">
            <script>resultsPost('cbc_lastSearch=__cti_oBanks__')</script>
          </option>
          <option id="orphanedcbcs">
            <script>resultsPost('cbc_lastSearch=__cti_oCBCs__')</script>
          </option>
        </links>
      </option>
    </links>
    <search action="results.jsp" method="post" fieldname="cbc_lastSearch"/>
    <skin name="standard"/>
    <css file="css/base.css"/> <!-- normally this should be an absolute path -->
    <css file="/WebConfig/yukon/styles/capcontrollogos.css"/>
  </module> 
  
  <module name="capcontrol_internal">
    <!-- The module is used for the inner frames that are used on the cap control pages. -->
    <skin name="inner"/>
    <css file="css/base.css"/> <!-- normally this should be an absolute path -->
  </module>
  
  <module name="commercialcurtailment">
    <links>
      <option id="ccurt_events">
        <link>/cc/programSelect.jsf</link>
      </option>
      <option id="ccurt_setup">
        <links>
          <option id="ccurt_programs">
            <link>/cc/programList.jsf</link>
          </option>
          <option id="ccurt_groups">
            <link>/cc/groupList.jsf</link>
          </option>
          <option id="ccurt_customers">
            <link>/cc/customerList.jsf</link>
          </option>
        </links>
      </option>
    </links>
    <css file="/cc/base.css"/>
    <css file="/WebConfig/yukon/styles/commcurtaillogos.css"/>
    <skin name="standard"/>
  </module>
  
  <module name="commercialcurtailment_user">
    <links>
      <option id="control">
        <link>/cc/user/overview.jsf</link>
      </option>
      <option id="trending">
        <link>/user/CILC/user_trending_sp.jsp</link>
      </option>
      <option id="profile">
        <link>/user/CILC/customerProfile.jsf</link>
      </option>
    </links>
    <css file="/cc/base.css"/>
    <css file="/WebConfig/yukon/styles/commcurtaillogos.css"/>
    <skin name="standard"/>
  </module>
  
  <module name="reporting">
   <links>
      <option id="reports">
        <links>
          <option id="administrator">
            <link>/analysis/Reports.jsp?groupType=ADMINISTRATIVE</link>
            <requireProperty value="ReportingRole.ADMIN_REPORTS_GROUP"/>
          </option>
          <option id="metering">
            <link>/analysis/Reports.jsp?groupType=METERING</link>
            <requireProperty value="ReportingRole.AMR_REPORTS_GROUP"/>
          </option>
          <option id="capcontrol">
            <link>/analysis/Reports.jsp?groupType=CAP_CONTROL</link>
            <requireProperty value="ReportingRole.CAP_CONTROL_REPORTS_GROUP"/>
          </option>
          <option id="statistical">
            <link>/analysis/Reports.jsp?groupType=STATISTICAL</link>
            <requireProperty value="ReportingRole.STATISTICAL_REPORTS_GROUP"/>
          </option>
          <option id="database">
            <link>/analysis/Reports.jsp?groupType=DATABASE</link>
            <requireProperty value="ReportingRole.DATABASE_REPORTS_GROUP"/>
          </option>
          <option id="management">
            <link>/analysis/Reports.jsp?groupType=LOAD_MANAGEMENT</link>
            <requireProperty value="ReportingRole.LOAD_MANAGEMENT_REPORTS_GROUP"/>
          </option>
          <option id="stars">
            <link>/analysis/Reports.jsp?groupType=STARS</link>
            <requireProperty value="ReportingRole.STARS_REPORTS_GROUP"/>
          </option>
          <option id="settlement">
            <link>/analysis/Reports.jsp?groupType=SETTLEMENT</link>
            <requireProperty value="ReportingRole.SETTLEMENT_REPORTS_GROUP"/>
          </option>
          <option id="cni">
            <link>/analysis/Reports.jsp?groupType=CCURT</link>
            <requireProperty value="ReportingRole.CI_CURTAILMENT_REPORTS_GROUP"/>
          </option>
        </links>
      </option>
    </links>
  	<skin name="standard"/>
  	<css file="/WebConfig/yukon/Base.css"/>
    <css file="/WebConfig/yukon/styles/reportinglogos.css"/>
    <script file="/JavaScript/change_monitor.js"/>
    <script file="/JavaScript/calendar.js"/>
  </module>
  
  <module name="esub">
  	<skin name="standard"/>
  	<css file="esub.css"/>
  </module>
  
  <module name="stars">
    <skin name="purple"/>
  </module>
    
  <module name="multispeak">
    <skin name="standard"/>
    <css file="setupStyle.css"/>
    
    
    <links>
    <option id="multispeak">
    	<links>
    	  <option id="interfaces">
    		<link>/msp_setup.jsp?init</link>
    	  </option>
    	  <option id="mappings">
    		<link>/spring/multispeak/setup/routemapping/mappings</link>
    	  </option>
    	</links>
      </option>
    </links>
  </module>
        
  <module name="debug">
    <skin name="standard"/>
    
    <links>
    <option id="scheduler">
    	<links>
    	  <option id="active" >
    		<link>/spring/debug/scheduler/active</link>
    	  </option>
    	  <option id="status">
    		<link>/spring/debug/scheduler/status</link>
    	  </option>
    	  <option id="jobs">
    		<link>/spring/debug/scheduler/jobs</link>
    	  </option>
    	</links>
      </option>
    </links>
  </module>
        
   <module name="blank">
    <skin name="standard"/>
  </module>

  <module name="dr_user">
    <skin name="standard"/>
  </module>
  
  <module name="operations">
    <skin name="standard"/>
    <css file="/WebConfig/yukon/styles/operationsStyles.css"/>
  </module>
  
  <module name="userlm">
    <skin name="standard"/>
    <css file="/WebConfig/yukon/styles/YukonGeneralStyles.css"/>
  </module>

  <module name="commander">
    <links>
      <option id="deviceselection">
        <link>/apps/SelectDevice.jsp</link>
      </option>
    </links>
    <skin name="standard"/>
    <css file="/WebConfig/yukon/styles/commanderStyles.css"/>
    <css file="/WebConfig/yukon/Base.css"/>
  </module>

   <module name="commanderSelect">
    <skin name="standard"/>
    <css file="/WebConfig/yukon/styles/commanderStyles.css"/>
    
    <links>
      <option id="devices">
        <links>
          <option id="mct">
            <link>SelectDevice.jsp?SortBy=1004</link>
          </option>
          <option id="ied">
            <link>SelectDevice.jsp?SortBy=1002</link>
          </option>
          <option id="rtu">
            <link>SelectDevice.jsp?SortBy=1001</link>
          </option>
          <option id="transmitter">
            <link>SelectDevice.jsp?SortBy=1000</link>
          </option>
          <option id="group">
            <link>/spring/group/groupProcessing</link>
          </option>
        </links>
      </option>
      <option id="lm">
        <links>
          <option id="group">
            <link>SelectDevice.jsp?SortBy=1005</link>
          </option>
          <option id="xcom">
            <link>CommandDevice.jsp?deviceID=-1&amp;manual&amp;xcom</link>
            <requireProperty value="CommanderRole.EXPRESSCOM_SERIAL_MODEL"/>
          </option>
          <option id="vcom">
            <link>CommandDevice.jsp?deviceID=-1&amp;manual&amp;vcom</link>
            <requireProperty value="CommanderRole.VERSACOM_SERIAL_MODEL"/>
          </option>
          <option id="205serial">
            <link>CommandDevice.jsp?deviceID=-1&amp;manual&amp;sa205</link>
            <requireProperty value="CommanderRole.DCU_SA205_SERIAL_MODEL"/>
          </option>
          <option id="305serial">
            <link>CommandDevice.jsp?deviceID=-1&amp;manual&amp;sa305</link>
            <requireProperty value="CommanderRole.DCU_SA305_SERIAL_MODEL"/>
          </option>
        </links>
      </option>
      <option id="capcontrol">
        <links>
          <option id="capcontrolsub">
            <link>SelectDevice.jsp?SortBy=4</link>
          </option>
        </links>
      </option>
    </links>
  </module>
</mainmenu>
