package com.cannontech.esub.editor.element;

import java.io.File;
import java.io.IOException;

import javax.swing.JButton; 
import javax.swing.JFileChooser;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextField;

import com.cannontech.esub.editor.EditorPrefs;
import com.cannontech.esub.util.Util;
/**
 * Creation date: (1/22/2002 4:01:18 PM)
 * @author: 
 */
public class LinkToPanel extends JPanel {
	private JButton ivjLinkToButton = null;
	private JLabel ivjLinkToLabel = null;
	private JTextField ivjLinkToTextField = null;

class IvjEventHandler implements java.awt.event.ActionListener {
		public void actionPerformed(java.awt.event.ActionEvent e) {
			if (e.getSource() == LinkToPanel.this.getLinkToButton()) 
				connEtoC1(e);
		};
	};
	IvjEventHandler ivjEventHandler = new IvjEventHandler();
/**
 * LinkToPanel constructor comment.
 */
public LinkToPanel() {
	super();
	initialize();
}
/**
 * LinkToPanel constructor comment.
 * @param layout java.awt.LayoutManager
 */
public LinkToPanel(java.awt.LayoutManager layout) {
	super(layout);
}
/**
 * LinkToPanel constructor comment.
 * @param layout java.awt.LayoutManager
 * @param isDoubleBuffered boolean
 */
public LinkToPanel(java.awt.LayoutManager layout, boolean isDoubleBuffered) {
	super(layout, isDoubleBuffered);
}
/**
 * LinkToPanel constructor comment.
 * @param isDoubleBuffered boolean
 */
public LinkToPanel(boolean isDoubleBuffered) {
	super(isDoubleBuffered);
}
/**
 * connEtoC1:  (LinkToButton.action.actionPerformed(java.awt.event.ActionEvent) --> LinkToPanel.linkToButton_ActionPerformed(Ljava.awt.event.ActionEvent;)V)
 * @param arg1 java.awt.event.ActionEvent
 */
/* WARNING: THIS METHOD WILL BE REGENERATED. */
private void connEtoC1(java.awt.event.ActionEvent arg1) {
	try {
		// user code begin {1}
		// user code end
		this.linkToButton_ActionPerformed(arg1);
		// user code begin {2}
		// user code end
	} catch (java.lang.Throwable ivjExc) {
		// user code begin {3}
		// user code end
		handleException(ivjExc);
	}
}
/**
 * 
 */
/* WARNING: THIS METHOD WILL BE REGENERATED. */
private static void getBuilderData() {
/*V1.1
**start of data**
	D0CB838494G88G88GC501B6ACGGGGGGGGGGGG8CGGGE2F5E9ECE4E5F2A0E4E1F4E135DA8DD0DC5595CE472AB80D1AAAEDD3470E295A1699E91BE86CE4B46DC4A7EDE3CDAB0ED123CD26D8636F241A560C21EDEAAF8B88A1A4A100C004C4B0A020E4A106D2C4B4A49005E493B6E1790B7CBDF69F70E0F75F3A7B48EE54461EF3FF5EBE1637D023E5661B776E397F67FC675CF35FC272DEDB1416EC49A3A4B90D703FFFA793322902101A47FEDAACE489ED69194470D78A58CDDE2EC805E7A254
	BD2D26E7E693DBD18614B7C359866582F84FA5270BECEF40CB14F94A20EE4922E786E61F67E83E18A71D16170CE741F3A7A089E4456D6919636DB87FBD6305DC5E8C651D7C9D11ECA12470B8366998AAB44863F93B0D70A4D03F1C3659B0DE4C6B07210CEDC2701CFF1C353D991E5B686AAEEDEC606D7A3F99CBB67FE63BE5874EE598DFA075846BDB491FA564DA2A0894D2AD55413349BEB9763ED375D81D12572BFAB559B9EE1583D3A3D65925E82A5FAA3BE50F6C559A9BED0AF752215AA52F6CDEF88257BAB5
	14C1470135C2394C0632CE8975338E4A1B81D9B6315E7BF7B4717544CE4612441BDECA0E365EF19BDB67FCDBF83DEB6FFC5652F492475F21E471FE2B21BE95E4ECADDD0AD84B3C13E2AD0F9E46364B201CGF8DA17BFB400F2F2AABD3390D0FBCA2C713D8A31465ECFEFA2C9A3D64B2EA8EBECBB455666BB95DEE3F5EEDF6A9E4A115F95201D6321AE8130811051111ED989E88394D1EEDE117FA6BC0F0CE8AD2A4723FA0F78FCC75DAE7FC955A53B613D3191EA386C0C6CD47DAEC2987F92072BCD56A3B05CB11D
	FB8836379EA27892FF66BA22E9E516B4133DADFDF007C563E344F40477362C837576EBEA5BB8F8CF663AE6727B29FC2BC14EEC55C765D84E3227E77A6CC24F3DBB45DAEC29D7116C033516F41335AC3C3B5C32464EFD449EDE8B53F15C9E54F16169744CBA008D6082FC9DF073E9216387728F4D2563F6603B5FAB39BB27C6FC12DFBBBA2538DD321F6BBAD719CD57E6E07DCA3FF0BF261738C3C69B2D3B2D46D4AF6B6272ACABCEB3FD2CBD9D568B1B7BEC543913CE4F6446CE5D0617D01F48BA93E95BAB293C78
	CC24ED938F8B5BD6C35D82GEBFFFC90651BE70C632072544E48F1568D08F17220AE84E0767D20886360BAA8A781329D60BF00B6008B90F2889B6FAB28799F7D48EE30AF6B7BF0C1BEBC651066175A3D81CD72BA65EE492FC8A3EEB9C0F81B4482546B4834FECFD07FF6429C9F4ADE59AFE90A6A0551A50F8CE48A30B64F956C46B6FE1956BA940F8C93F8FCC40C7BE2C1AEBC5DD2C06B7239A4CD8E37E075AF95A0A74EC95DB0A28CG6F2B9C282FAD43986796427BD20750D52098E5D9DD905F3A04DE4E976640
	738410DBF6B7B636AACEDC0664BFAFB87ADB894F3506AE61134F758A6E356E78AE29FE50EA4ABD441AAE6E13DD115CFB180E1957AD4E4AA12957502F214B1CFF978BB6C7E85A9CA9DF617888265F4776A2C76BE0DFF6002FDB68F8E9E189635ED1A9A08B36F57801A832AB2CF156F6499EBCCB64F3F012364ABE596B0217G377532BD5B42BC9CD5F50E7C024AB1AE35GD1823AFC651E5DCC8EE398D9AD6AD753FAC9537C4A4814A6F74A1A26F847427D5750358426053CG5F6B637BF02FB13047C500457ADE87
	DE4DB57049262A13D3BE87FA8A676547747CDD896D5769763FE2G79C0FAC479DADA8E57BFF958E8BBB3E05FAF470F3A01396678B21CE1F35887F1DF49FA79ACAD976A7B7EA3DD0319AFFDF5FE70F7BA47D74DFF814681FBD1F48E779419F3F820481C434E2259B9BAD9E446D1D667AF425CC58DFA8D1C8F96E13CF32ADE2FCC9DCF6FC2D82E7B1C837721F8952DC7F10D49DA2772098C39E68FF2F727045CED06F7C70F0807417DA29E16FD72AD32E2E81BE93E3470871516F84E5195BD61F8485694AAC6DF6279
	F30BBA6555187C820D57DC9EC821B2396AEA6CDB49126C23D31A26FA2BA53A95ABFB58E57F286A77482E4A89691CE415021A151A42FA04D69F43772A1283875EAFB1A46A55EE43F8C3C7A28632C59F695D2A6E2ADA9E9372CBF09F09303F4D002CDE91937ED60C75A2A6704057223A5D4C84E877DE54EF46C81EC1E7E53D6C5E946655D3FB3351567247D3B29C4198D4CE486745B93AB7A7222EDBF2CF054F679777EE07275B900F187C19FD663AFFFE9F7A6624BE7E8B7BDEA6F84E32B199D796CBB8264F2FF8A0
	FCE3006577379845F8FFDB867B403B5EBAF8EE82303EFB1D5857E081322A8F7BFEE3D05C6BB220DC82E86EE37D6775B1DD641D45F665123847546832A6AAFB9E9C7DBB29A2D7BC19ED3C7F398225267CC4741EE5633B4FC66650A7CAF15C79A03F7E2C302967B5E31CBF928828CE0526B0DC2F45A5C66EB2D9E989DE1CC795FFG72E9179C923629A84135E20E4345DC3F373C759E1919339D2357CDF10C3684A98D9DEA8B24D9EDE05E965D353B95B9C8049E7E730171DE39FCD73EE5FB94BDAC667BCFB068E17E
	2D4FDA581ADE28C25B523BB0BAC5489A88C2BCEAECBCEE386F7E051EF158BE7BA3F1174C72A04F5A20BC8C8881D8DE3B14663B58F68148D68118AF2CB8E07485524F4E4BCAF832B8D0B474B64645AF6C78C237A501F7D167976F75DC2FB766B673B52E7E49D5246973AD49E6F76118DD491626FE26CFD7FFD82F0E37F6360E83785D73EDA3D7D7A43E92152B0B7998AB7BA339DA339FF51F88724D7D022BB7166CB6F0956E4910420FC184504F2B5294666B3C6CA8CD933ECEC4EE67AEC3FBE48C00BD81CDG87C0
	9B90F37C3EF44EBB643150ACF748ADB36EE33183611CA6EEE0E6FE436ECB73A82F168F307BD23AAE1FCF65EB8CF246379CAA4772C628338F0A5C630E414879178ECE1FB3A1224C7A2D1A51EFDFC4F9F3C4BF463FDD1DFB4C7D0811916A18AFEDB9A0FCA9EBC85CE36EAE4798598A65E1C088908BD886D883C89A92B6F973F53378B15DA65102C7B8D7E6F3DAAAF09D0543600343E27C4BDF5FE16015DDD53C1A4E293A7DF8DE28FEE5CC718A59BBD466D47DB4A1E1B22DACFA2E74E919F92E7435B273DC69723259
	737D2B4B2265D2ACB75FB901FBEC007D59GCC7648A44AFCD00E9996DC390CF2A89E4AAB81093A7C9AAACF02F221444EAEA6AF74747276C69E2C9C3E781CBD5150174DF150E3165726DD6478E2DC713E170EFDCF7EAE2A5FC0C08ED06234CA1A446B1E52DEA1A6F965A9386C73F56512BF8FEE63ED0EE9EA4BC1FD6DDB8F18FD0BE910589EED52CCBD717BDBF9F46EBCD0EE4E1DC74A113381F54A6F14A37911D8DE285705BD21DD13BD388D1EAF517E1A64075CB8327FA65A1F55C56B7F5772597379748A0CD7A1
	3D3C1D164F6BBAAC1FC09FF2CB6755A9F03655924DFBA6C43EB58C6590E091E0A9579B0BB7CB02F85E0F7AA58FCC5769131DA4EE847BEE1A94FD7320DC89E8830C83E2C644D9DB7EF9B8D733C9A3102BB1F9D57DAEDD6EGD5FF2048EE972FCB235F1F0DD9BABB57FF69B11E6B1BC658391E6794673EAD47D8DF69E475F6277047DCAB7A238B4A1AAE532C42C767B9C5DE611A905F3F93C0166192F96741E10C1DFA5C45633D3171C33F62BAAA0D5928D6D95C0D2731G7BB73B746F64F44C901497G62DC628E94
	FAC364D671BF3C0A586655187E46106848372CF0B11BECF0054F6D425C3ED4B6E73EDB4CD9A227E7764AA8EBF59B75013A6D81D8812C7E5C34FA64566D536A63265563FA1FC8B656BFBA2D9EF574916F4F76F6EF39585B56FB2FA76E5B77C67D7DE4114CF3927E4C363ECAB68407385EDF980D12B7D2C2317DEF750833EE2BAC6CD5DED9EC5ECFA79C6BFBC90E388F540D8A5E56F8718E23C1C377A87EE6E547ED118D23741EE1ED656BDEBCBAB33E083CAB05E3A534C13C4265EBC7D9DE917E16B1B1F1F15F40C3
	9759EF49976E47722278C964F075D8F87DCCFEBB15B798647C7B356EC72DD097B7A6F210C3B5E84F2CF1089900E6C0AFA084089D977941020ADAB2C77E61D0FDB68860EE43F14D76D7643E385F866ECA97FCDDFA473749324B56A7C73B67440DB33B2F624F386AD7291C6D6FD735383FA4284BD352B39BGF6008B7019A2763736221A6D8F2FE4C7B4CDF20E535B1E589CDE4042E28C3AECEF49DE333DADD078EF174ACCBE32FEB1B93369E419C9BF26137BBEB25EAB322FCB33889BC736DF4D47D82B046393732F
	65D6BD8F1DC84FFC0D6E9F6E83A47C47FCAC952F81FC5E473204AD0AEF391A34BE3CBEF9FF14F9DBA758FC319361F94958BB29EC5F37CE92DD87F79A5E1F1C186B1B6517811B631F7F57B9980F1AEA2267B1ADB566F9CCFB0DF98E5CD1B3FBFE51D3937DFB61E00D71FBA1730322BABC9FD603DD1E86E4CDC2DE8B281B94BE303166F5C2FD40047F47DCE318C761AFC61A187F3E5A68FBFD28F66E5F197ED00B5FD0C6D448A8BCB83E10BFD10B7652D49F95B259333528A338020CEB2C294853EA1137EEF9140AD9
	8ED16895F905FDD2649575C111D7746B329BF204ACFED2444206FF91FD6CF9874B6159ADCD18FE2DB98EC7D8474884A4068EE9CC6758DDD623DFEF05F1335D335F8D583C4EFABC434A20EDB34085788C30G9087D88EC8GECGEC8564F9A0D6831AGF640B0C08344F804AD5B8FD5C5DBBB88F912C48D6A170CF73D7DF551ED7AE65D5CB6BDD4C73F1501AD9C67FDBCCFEE282377475151002CF3673D3AECDD569E302B818573EB96F78EE30863E77B4920B85B2F774C542308FD514E76451E709948467BD90E98
	EF3949F8A99163A5F8426321BFEDB00C47B834164652CDDC4EE46B29AC434BE47CDBFDFDF43DDE281FDB2F17571B7B4A1575B3FD651AFAF3DFD9D8EF7495A67BDEBD6EEB8C78502B373BD1177569329F51B1D156233834F1DD7EE33AAE143749B821105FC657952432DE711B1FC15647E5BF2FC7EE401647D57DBB425D75186B0DAAEEB7AB7F0A36D13CC095DD9F7752B5AABE49306E84DD066BE6E75D0520B86B4A409E0CDF6ABBC42FFFAAC75477FB4D4E42CD07D91F750D04087B1774C696E13F2BA8121B2A03
	490BC3BB42F2218E9E97AE899A63C2AC4C95671DBDAE30FE9B2765894B21CF429C7D98872F8B4E64658DC1A3AF19ACA5F7E63B0CDCE3BB76FFE55FAF475FEA627FC452B412E235DA83FE32CB7F265ACECD13F86ED0E34A63B725D8C8EABBF919D1351D24A25F5AC99A25E3BBC9812A0670DF82D20D50C886DEAFCB9CEAE360E3F2017A57348666D21E1BD4FDEE4C0912AE5D1A9C6DDBEB350F692E5997792D759F741B58E7A0DF6893B174E4458192BD7EF7FAA437DB135C13C73CAEBC8B0E1E57647059EC294471
	83228D2FE4F55BAAF15D9306BE7F85D0CB87883103B8673D8EGG98A8GGD0CB818294G94G88G88GC501B6AC3103B8673D8EGG98A8GG8CGGGGGGGGGGGGGGGGGE2F5E9ECE4E5F2A0E4E1F4E1D0CB8586GGGG81G81GBAGGG778EGGGG
**end of data**/
}
/**
 * Creation date: (1/22/2002 4:07:30 PM)
 * @return java.lang.String
 */
public String getLinkTo() {
	return getLinkToTextField().getText();
}
/**
 * Return the LinkToButton property value.
 * @return javax.swing.JButton
 */
/* WARNING: THIS METHOD WILL BE REGENERATED. */
private javax.swing.JButton getLinkToButton() {
	if (ivjLinkToButton == null) {
		try {
			ivjLinkToButton = new javax.swing.JButton();
			ivjLinkToButton.setName("LinkToButton");
			ivjLinkToButton.setText("...");
			// user code begin {1}
			// user code end
		} catch (java.lang.Throwable ivjExc) {
			// user code begin {2}
			// user code end
			handleException(ivjExc);
		}
	}
	return ivjLinkToButton;
}
/**
 * Return the LinkToLabel property value.
 * @return javax.swing.JLabel
 */
/* WARNING: THIS METHOD WILL BE REGENERATED. */
private javax.swing.JLabel getLinkToLabel() {
	if (ivjLinkToLabel == null) {
		try {
			ivjLinkToLabel = new javax.swing.JLabel();
			ivjLinkToLabel.setName("LinkToLabel");
			ivjLinkToLabel.setText("Link To:");
			// user code begin {1}
			// user code end
		} catch (java.lang.Throwable ivjExc) {
			// user code begin {2}
			// user code end
			handleException(ivjExc);
		}
	}
	return ivjLinkToLabel;
}
/**
 * Return the LinkToTextField property value.
 * @return javax.swing.JTextField
 */
/* WARNING: THIS METHOD WILL BE REGENERATED. */
private javax.swing.JTextField getLinkToTextField() {
	if (ivjLinkToTextField == null) {
		try {
			ivjLinkToTextField = new javax.swing.JTextField();
			ivjLinkToTextField.setName("LinkToTextField");
			// user code begin {1}
			// user code end
		} catch (java.lang.Throwable ivjExc) {
			// user code begin {2}
			// user code end
			handleException(ivjExc);
		}
	}
	return ivjLinkToTextField;
}
/**
 * Called whenever the part throws an exception.
 * @param exception java.lang.Throwable
 */
private void handleException(java.lang.Throwable exception) {

	/* Uncomment the following lines to print uncaught exceptions to stdout */
	// CTILogger.info("--------- UNCAUGHT EXCEPTION ---------");
	// exception.printStackTrace(System.out);
}
/**
 * Initializes connections
 * @exception java.lang.Exception The exception description.
 */
/* WARNING: THIS METHOD WILL BE REGENERATED. */
private void initConnections() throws java.lang.Exception {
	// user code begin {1}
	// user code end
	getLinkToButton().addActionListener(ivjEventHandler);
}
/**
 * Initialize the class.
 */
/* WARNING: THIS METHOD WILL BE REGENERATED. */
private void initialize() {
	try {
		// user code begin {1}
		// user code end
		setName("LinkToPanel");
		setLayout(new java.awt.GridBagLayout());
		setSize(242, 43);

		java.awt.GridBagConstraints constraintsLinkToLabel = new java.awt.GridBagConstraints();
		constraintsLinkToLabel.gridx = 0; constraintsLinkToLabel.gridy = 0;
		constraintsLinkToLabel.insets = new java.awt.Insets(4, 4, 4, 4);
		add(getLinkToLabel(), constraintsLinkToLabel);

		java.awt.GridBagConstraints constraintsLinkToTextField = new java.awt.GridBagConstraints();
		constraintsLinkToTextField.gridx = 1; constraintsLinkToTextField.gridy = 0;
		constraintsLinkToTextField.fill = java.awt.GridBagConstraints.HORIZONTAL;
		constraintsLinkToTextField.weightx = 1.0;
		constraintsLinkToTextField.insets = new java.awt.Insets(4, 4, 4, 4);
		add(getLinkToTextField(), constraintsLinkToTextField);

		java.awt.GridBagConstraints constraintsLinkToButton = new java.awt.GridBagConstraints();
		constraintsLinkToButton.gridx = 2; constraintsLinkToButton.gridy = 0;
		constraintsLinkToButton.insets = new java.awt.Insets(4, 4, 4, 4);
		add(getLinkToButton(), constraintsLinkToButton);
		initConnections();
	} catch (java.lang.Throwable ivjExc) {
		handleException(ivjExc);
	}
	// user code begin {2}
	// user code end
}
/**
 * Comment
 */
public void linkToButton_ActionPerformed(java.awt.event.ActionEvent actionEvent) {
	JFileChooser fileChooser = com.cannontech.esub.editor.Util.getLinkJFileChooser();
	fileChooser.setApproveButtonText("Select");
	fileChooser.setCurrentDirectory(new File(EditorPrefs.getPreferences().getWorkingDir()));
	int returnVal = fileChooser.showOpenDialog(null);

	if(returnVal == JFileChooser.APPROVE_OPTION) {
		String link = fileChooser.getSelectedFile().getName();
		try {
			link = Util.getRelativePathD(new File(EditorPrefs.getPreferences().getWorkingDir()), fileChooser.getSelectedFile());
		} catch (IOException e) {			
			e.printStackTrace();
		}
		
		setLinkTo(link);
	}
}
/**
 * main entrypoint - starts the part when it is run as an application
 * @param args java.lang.String[]
 */
public static void main(java.lang.String[] args) {
	try {
		JFrame frame = new javax.swing.JFrame();
		LinkToPanel aLinkToPanel;
		aLinkToPanel = new LinkToPanel();
		frame.setContentPane(aLinkToPanel);
		frame.setSize(aLinkToPanel.getSize());
		frame.addWindowListener(new java.awt.event.WindowAdapter() {
			public void windowClosing(java.awt.event.WindowEvent e) {
				System.exit(0);
			};
		});
		frame.show();
		java.awt.Insets insets = frame.getInsets();
		frame.setSize(frame.getWidth() + insets.left + insets.right, frame.getHeight() + insets.top + insets.bottom);
		frame.setVisible(true);
	} catch (Throwable exception) {
		System.err.println("Exception occurred in main() of javax.swing.JPanel");
		exception.printStackTrace(System.out);
	}
}
/**
 * Creation date: (1/22/2002 4:07:48 PM)
 * @param link java.lang.String
 */
public void setLinkTo(String link) {
	getLinkToTextField().setText(link);	
}
}
