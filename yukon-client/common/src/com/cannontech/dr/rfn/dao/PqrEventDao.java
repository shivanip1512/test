package com.cannontech.dr.rfn.dao;

import java.util.Collection;
import java.util.List;

import org.joda.time.Instant;

import com.cannontech.common.util.Range;
import com.cannontech.dr.rfn.model.PqrEvent;

/**
 * Data access object for PqrEvents. The PqrEventLog table is not generated by the creation or update scripts. Instead, 
 * this DAO will automatically create the PqrEventLog table and associated index and foreign key, the first time an 
 * attempt is made to read or write to that table.
 */
public interface PqrEventDao {
    
    /**
     * Retrieve all PqrEvents for the specified inventory whose timestamp falls within the range. If the PqrEventLog 
     * table does not exist when this method is called, an empty List will be returned.
     */
    public List<PqrEvent> getEvents(Iterable<Integer> inventoryIds, Range<Instant> dateRange);
    
    /**
     * Save PqrEvents. If the PqrEventLog table does not exist when this method is called, it will be created.
     */
    public void saveEvents(Collection<PqrEvent> events);
}
