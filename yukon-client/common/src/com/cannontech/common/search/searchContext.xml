<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>
    <description>This file is for the Lucene Searching beans.</description>

    <bean id="pointDeviceSearcherLucene" class="com.cannontech.common.search.PointDeviceLuceneSearcher" singleton="true" autowire="byType">
        <property name="indexManager" ref="pointDeviceIndexManager" />
    </bean>

    <alias name="pointDeviceSearcherLucene" alias="pointDeviceSearcher" />
    
    <bean id="pointDeviceIndexManager" class="com.cannontech.common.search.index.PointDeviceIndexManager" 
          singleton="true" autowire="default" init-method="initialize" destroy-method="shutdown">
        <property name="jdbcTemplate" ref="jdbcTemplate" />
        <property name="asyncDynamicDataSource" ref="asyncDynamicDataSource" />
    </bean>

    <bean id="userSearcherLucene" class="com.cannontech.common.search.UserLuceneSearcher" singleton="true" autowire="byType">
        <property name="indexManager" ref="userIndexManager" />
    </bean>

    <alias name="userSearcherLucene" alias="userSearcher" />
    
    <bean id="userIndexManager" class="com.cannontech.common.search.index.UserIndexManager" 
          singleton="true" autowire="default" init-method="initialize" destroy-method="shutdown">
        <property name="jdbcTemplate" ref="jdbcTemplate" />
        <property name="asyncDynamicDataSource" ref="asyncDynamicDataSource" />
    </bean>
    
    <bean id="customerAccountSearcherLucene" class="com.cannontech.common.search.CustomerAccountLuceneSearcher" singleton="true" autowire="byType">
        <property name="indexManager" ref="customerAccountIndexManager" />
    </bean>

    <alias name="customerAccountSearcherLucene" alias="customerAccountSearcher" />
    
    <bean id="customerAccountIndexManager" class="com.cannontech.common.search.index.CustomerAccountIndexManager" 
          singleton="true" autowire="default" init-method="initialize" destroy-method="shutdown">
        <property name="jdbcTemplate" ref="jdbcTemplate" />
        <property name="asyncDynamicDataSource" ref="asyncDynamicDataSource" />
    </bean>

    <bean id="userGroupSearcherLucene" class="com.cannontech.common.search.UserGroupLuceneSearcher" singleton="true" autowire="byType">
        <property name="indexManager" ref="userGroupIndexManager" />
    </bean>

    <alias name="userGroupSearcherLucene" alias="userGroupSearcher" />

    <bean id="userGroupIndexManager" class="com.cannontech.common.search.index.UserGroupIndexManager" 
          singleton="true" autowire="default" init-method="initialize" destroy-method="shutdown">
        <property name="jdbcTemplate" ref="jdbcTemplate" />
        <property name="asyncDynamicDataSource" ref="asyncDynamicDataSource" />
    </bean>
    
    <bean id="loginGroupSearcherLucene" class="com.cannontech.common.search.LoginGroupLuceneSearcher" singleton="true" autowire="byType">
        <property name="indexManager" ref="loginGroupIndexManager" />
    </bean>

    <alias name="loginGroupSearcherLucene" alias="loginGroupSearcher" />
    
    <bean id="loginGroupIndexManager" class="com.cannontech.common.search.index.LoginGroupIndexManager" 
          singleton="true" autowire="default" init-method="initialize" destroy-method="shutdown">
        <property name="jdbcTemplate" ref="jdbcTemplate" />
        <property name="asyncDynamicDataSource" ref="asyncDynamicDataSource" />
    </bean>
    
    <bean id="paoTypeSearcherLucene" class="com.cannontech.common.search.PaoTypeLuceneSearcher" singleton="true" autowire="byType">
        <property name="indexManager" ref="paoTypeIndexManager" />
    </bean>

    <alias name="paoTypeSearcherLucene" alias="paoTypeSearcher" />
    
    <bean id="paoTypeIndexManager" class="com.cannontech.common.search.index.PaoTypeIndexManager" 
          singleton="true" autowire="default" init-method="initialize" destroy-method="shutdown">
        <property name="jdbcTemplate" ref="jdbcTemplate" />
        <property name="asyncDynamicDataSource" ref="asyncDynamicDataSource" />
    </bean>

    <bean id="indexBuilder" class="com.cannontech.common.search.index.IndexBuilder" singleton="true" autowire="default">
        <property name="managerList">
            <list>
                <ref bean="pointDeviceIndexManager" />
                <ref bean="userIndexManager" />
                <ref bean="customerAccountIndexManager" />
                <ref bean="loginGroupIndexManager" />
                <ref bean="paoTypeIndexManager" />
            </list>
        </property>
    </bean>
</beans>
